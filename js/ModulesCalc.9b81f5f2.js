"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[752],{3416:(e,t,a)=>{a.d(t,{Z:()=>m,V:()=>u});var n=a(6252);function o(e,t,a,o,i,s){const l=(0,n.up)("Page");return(0,n.wg)(),(0,n.j4)(l,{"title-loc-key":i.locKey,"content-args":{data:i.data,iconDir:"game/Modules"},portrait:{src:i.img,alt:`${a.type} modules`}},null,8,["title-loc-key","content-args","portrait"])}var i=a(7346),s=a(128),l=a(553);const r=(0,l.Z)(s.Z,{filter:([,e])=>!e.Hide,sort:([,e],[,t])=>e.AwardLevel-t.AwardLevel}),u=e=>(0,l.Z)(r,{filter:([,t])=>t.SlotType===e}),c={components:{Page:i.Z},props:{type:{type:String,requested:!0,default:null},portrait:{type:String,requested:!0,default:null},postFilter:{type:Function,requested:!1,default:e=>e}},data(){return{data:this.postFilter(u(this.type)),img:a(7181)(`./${this.portrait}.png`),locKey:`TYPE_MOD_${this.type.toUpperCase()}`}}};var p=a(3744);const d=(0,p.Z)(c,[["render",o]]),m=d},8532:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(6252),o=a(3577);const i=e=>((0,n.dD)("data-v-2889dfb8"),e=e(),(0,n.Cn)(),e),s={class:"topic"},l={class:"total"},r={class:"margin-wrap"},u={class:"reset-buttons"},c={class:"margin-wrap"},p={class:"sections-input"},d=["onClick"],m={class:"levels"},h={class:"modal-module"},S={class:"title"},y={class:"reset-buttons"},C={class:"chars"},g=["onChange"],T=["selected","disabled"],f=i((()=>(0,n._)("br",null,null,-1))),w={key:0};function P(e,t,a,i,P,M){const D=(0,n.up)("Head"),_=(0,n.up)("confirm"),k=(0,n.up)("Icon"),A=(0,n.up)("modal"),R=(0,n.Q2)("t");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[(0,n._)("title",null,(0,o.zw)(e.title),1)])),_:1}),(0,n._)("h1",s,(0,o.zw)(e.title),1),(0,n._)("table",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.output.total,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a,class:"total"},[(0,n._)("td",null,(0,o.zw)(e.format.key(a)),1),(0,n._)("td",{colspan:"3",class:(0,o.C_)(e.outputClasses("total",a))},(0,o.zw)(e.format.value(a,t)),3)])))),128))]),(0,n._)("div",r,[(0,n._)("div",u,[(0,n._)("button",{name:"plan",onClick:t[0]||(t[0]=(...t)=>e.onReset&&e.onReset(...t))},(0,o.zw)(e.$t("RESET_PLAN")),1),(0,n._)("button",{name:"all",onClick:t[1]||(t[1]=(...t)=>e.onReset&&e.onReset(...t))},(0,o.zw)(e.$t("RESET_ALL")),1)])]),(0,n.Wm)(_,{text:"Reset all ? Are you serious ?",onSetShow:t[2]||(t[2]=t=>e.resetConfirm=t)}),(0,n._)("div",c,[(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.types,(t=>((0,n.wg)(),(0,n.iD)("section",{key:t,class:"type"},[(0,n._)("h3",null,(0,o.zw)(e.format.key(t)),1),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getModulesBySlotType(t),(([t,a])=>((0,n.wg)(),(0,n.iD)("li",{key:t.Name,class:"module"},[(0,n._)("div",{class:(0,o.C_)({mute:!e.input.plan[t.Name]}),onClick:()=>e.openModuleInfo(t,a)},[(0,n.Wm)(k,{name:t.Icon,dir:"game/Modules"},null,8,["name"]),(0,n._)("div",m,[(0,n._)("span",null,(0,o.zw)(e.input.actually[t.Name]?e.input.actually[t.Name]:""),1),(0,n._)("span",null,(0,o.zw)(e.input.plan[t.Name]&&e.input.plan[t.Name]!=e.input.actually[t.Name]?e.input.plan[t.Name]:""),1)])],10,d)])))),128))])])))),128))])]),(0,n.Wm)(A,(0,n.dG)({open:e.openModal,"onUpdate:open":t[5]||(t[5]=t=>e.openModal=t)},e.modalOpts),{body:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n._)("div",S,[(0,n._)("div",null,[(0,n._)("h2",null,(0,o.zw)(e.$t(e.modalOpts.data.module.TID)),1),(0,n._)("div",y,[(0,n._)("button",{name:"plan",onClick:t[3]||(t[3]=(...t)=>e.onReset&&e.onReset(...t))},(0,o.zw)(e.$t("RESET_PLAN")),1),(0,n._)("button",{name:"all",onClick:t[4]||(t[4]=(...t)=>e.onReset&&e.onReset(...t))},(0,o.zw)(e.$t("RESET_ALL")),1)])]),(0,n.Wm)(k,{name:e.modalOpts.data.module.Icon,dir:"game/Modules"},null,8,["name"])]),(0,n._)("ul",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.input),(t=>((0,n.wg)(),(0,n.iD)("li",{key:t,class:"input"},[(0,n.wy)((0,n._)("span",null,null,512),[[R,e.inputLocKeys[t]]]),(0,n._)("select",{class:"select",onChange:a=>e.onChangeLvl(t,a.target.value)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.modalOpts.data.maxLevel+1,((a,i)=>((0,n.wg)(),(0,n.iD)("option",{key:a,selected:e.isSelected(t,i),disabled:e.isDisabled(t,i)},(0,o.zw)(i),9,T)))),128))],40,g)])))),128)),f,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.output.plan[e.modalOpts.data.key],((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,o.C_)({output:!0,"sub-chars":"object"==typeof e.output.plan?.[e.modalOpts.data.key]?.[a]})},[(0,n._)("b",null,(0,o.zw)(e.format.key(a)),1),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.input),(t=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:(0,o.C_)(e.outputClasses(t,a))},["object"===typeof e.output[t]?.[e.modalOpts.data.key]?.[a]?((0,n.wg)(),(0,n.iD)("ul",w,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.output[t][e.modalOpts.data.key][a],((t,i)=>((0,n.wg)(),(0,n.iD)("li",{key:i,class:"output"},[(0,n._)("b",null,(0,o.zw)(e.format.key(i)),1),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(e.input),(t=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:(0,o.C_)(e.outputClasses(t,i))},[e.output[t][e.modalOpts.data.key][a]?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,o.zw)(e.format.value(i,e.output[t][e.modalOpts.data.key][a][i])),1)],64)):(0,n.kq)("",!0)],2)))),128))])])))),128))])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)((0,o.zw)(e.format.value(a,e.output[t]?.[e.modalOpts.data.key]?.[a])),1)],64))],2)))),128))])],2)))),128))])])])),_:1},16,["open"])])}var M=a(1232),D=a(2759),_=a(3249),k=a(9963);const A={class:"wrap"},R={key:0,class:"container"},b={class:"buttons"};function L(e,t,a,i,s,l){const r=(0,n.up)("modal"),u=(0,n.Q2)("t");return(0,n.wg)(),(0,n.j4)(r,{title:"Confirm",open:e.show,"onUpdate:open":e.modalUpdate},{default:(0,n.w5)((()=>[(0,n.Wm)(k.uT,null,{default:(0,n.w5)((()=>[(0,n._)("div",A,[e.show?((0,n.wg)(),(0,n.iD)("div",R,[(0,n.Uk)((0,o.zw)(e.text)+" ",1),(0,n._)("div",b,[(0,n.wy)((0,n._)("button",{onClick:t[0]||(t[0]=t=>e.close(e.confirm))},null,512),[[u,"TID_OK"]]),(0,n.wy)((0,n._)("button",{onClick:t[1]||(t[1]=t=>e.close(e.defeat))},null,512),[[u,"TID_CANCEL"]])])])):(0,n.kq)("",!0)])])),_:1})])),_:1},8,["open","onUpdate:open"])}const v=(0,n.aZ)({name:"Confirm",components:{Modal:_.Z},props:{text:{type:String,default:void 0}},emits:["setShow"],data(){return{show:!1,confirm:()=>null,defeat:()=>null}},created(){this.$emit("setShow",this.open.bind(this))},methods:{modalUpdate(){this.close(this.defeat)},open(){return this.show=!0,new Promise(((e,t)=>{this.confirm=e,this.defeat=t}))},close(e){e(),this.show=!1,this.confirm=()=>null,this.defeat=()=>null}}});var O=a(3744);const I=(0,O.Z)(v,[["render",L],["__scopeId","data-v-46e8c8d9"]]),B=I;var E=a(3322),W=a(9114),U=a(2262),x=a(3416),F=a(4970),N=a(553);const H=["UnlockPrice","UnlockTime"];function z(){const e=(0,U.qj)({actually:{},plan:{},total:{UnlockPrice:0,UnlockTime:0,ReqBank:0}}),t={};return{output:e,update:a,getModulesBySlotType:l};function a(a,l){const r=(e,t,...o)=>n((([n],o,i)=>s(Object.fromEntries(i),n,a.actually[e],t)),e,...o),u=(e,t,...a)=>n((([,e])=>Array.isArray(e)?e[t-1]:e),e,...a);Object.keys(e.total).forEach((t=>e.total[t]=0)),l?(o(e.plan,l,((...e)=>r(l,a.plan[l],...e))),o(e.actually,l,((...e)=>u(l,a.actually[l],...e)))):(i(a.plan,e.plan,r),i(a.actually,e.actually,u));for(const[n,o]of Object.entries(e.plan))if(Object.keys(o).length){const i=t[n].UnlockPrice,s=Array.isArray(i)?i[a.plan[n]-1]:i;e.total.UnlockPrice+=o.UnlockPrice,e.total.UnlockTime+=o.UnlockTime,e.total.ReqBank=s>e.total.ReqBank?s:e.total.ReqBank}}function n(e,a,...n){const[[o]]=n;if(u(t[a][o])){const n=(0,N.Z)(t[a][o],{map:(...t)=>[t[0][0],e(...t)]});return[o,n]}return[o,e(...n)]}function o(e,a,n){e[a]=(0,N.Z)(t[a],{map:n})}function i(e,t,a){if(Object.keys(e).length)for(const[n,i]of Object.entries(e))i?o(t,n,((...e)=>a(n,i,...e))):t[n]={};else for(const n of Object.keys(t))delete t[n]}function s(e,t,a,n){const o=e[t],i=a>0?o[a-1]:0;let s=o[n-1];if(!Array.isArray(o))return!a&&n?o:0;if(H.includes(t)){s=0;let e=a>0?a-1:0;while(e<=n-1)s+=o[e],e++}return s-i}function l(e){const a=(0,x.V)(e);return Object.entries(a).map((([e,n])=>{let o=1;for(const[,t]of Object.entries(n))Array.isArray(t)&&t.length>o&&(o=t.length);return t[e]=r(a[e],o),[n,o]}))}function r(e,t){const a=(0,F.K)(e);return n(a),a;function n(e){for(const a in e)if(a in e){const n=e[a],o="boolean"==typeof n[1]?n[0]:n;if(u(o)){const n=r(o,t);Object.keys(n).length?e[a]=n:delete e[a];continue}if((!Array.isArray(o)||o.length!=t)&&!H.includes(a)){delete e[a];continue}"boolean"==typeof n[1]&&(e[a]=o)}return e}}function u(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}}const G={TicksPerSecond:5,SubticksPerTick:4,SubTicksPerTurn:400,SubticksPerCheckpoint:10,StartingPlayerPremiumCurrency:200,PremiumCurrencyTimeValue0:60,PremiumCurrencyTimeValue1:3600,PremiumCurrencyTimeValue2:86400,PremiumCurrencyTimeValue3:1209600,PremiumCurrencyToTimePrice0:1,PremiumCurrencyToTimePrice1:30,PremiumCurrencyToTimePrice2:300,PremiumCurrencyToTimePrice3:3e3,CrystalCostForCredits_100:1,CrystalCostForCredits_1000:20,CrystalCostForCredits_10000:150,CrystalCostForCredits_100000:1e3,CrystalCostForCredits_1000000:4e3,CrystalCostForCredits_10000000:12e3,CrystalCostForCredits_100000000:8e4,CrystalCostForHydrogen_10:1,CrystalCostForHydrogen_100:15,CrystalCostForHydrogen_1000:80,CrystalCostForHydrogen_10000:400,CrystalCostForHydrogen_100000:2e3,CrystalCostForHydrogen_1000000:1e4,FleetDepartTimeInSeconds:9,FleetDepartTimeInSeconds_WS:600,StartingPlayerBCAmount:0,StartingPlayerFuelAmount:100,MaxPlayerNameLength:16,ColonizePlanetXP:0,MaxRecentPlayerNotifications:20,MaxPlayerNameChangesAllowed:2,MinAllianceNameLength:3,MaxAllianceNameLength:15,MaxAllianceDescriptionLength:800,NumRecommendedAlliances:50,MaxChatMessages:100,MaxChatLineLength:800,MaxShareViewMessageLength:100,DeliverTradeJobXPPer100BC:7,XPMultiplierForDiplomacyShipments:5,MinTradeJobXP:1,MaxTradeJobXP:40,PlanetCaptureTime:45,ClosestAllowedDistanceBetweenPlanets:4e3,ClosestAllowedDistanceBetweenAsteroids:4e3,ClosestAllowedDistanceBetweenCerberusBases:3e3,MinDistanceBetweenBuildings:1500,MinDistanceBetweenBuildingAndPlanets:1600,MinDistanceBetweenBuildingsAndAsteroids:600,MinDistanceBetweenPlanetsAndAsteroids:2e3,MinDistanceBetweenStarAndBuildings:1200,MinDistanceBetweenAsteroids:350,AlliancesUnlockLevel:4,ClosestAllowedDistanceBetweenRandomSites:3500,DynamicCSVUpdates:1,CompressCSVUpdates:1,DisbandFleetUnlockLevel:2,DisableIAP:0,ShipmentsPeriod:60,ManualShipmentRefreshPeriods:4,PlanetUpgradeShipmentRefreshPeriods:2,ShipmentRefreshCrystalDiscountPct:10,ShipmentRefreshRefPct:10,ShipmentRefreshMinCrystals:3,ShipmentRefreshEnable:0,MaxNumTradeJobsForSpaceStation:18,ShipmentRewardFlunctuationPercent:10,MaxWaypoints:15,MaxWaypointsWS:5,TutorialSectorCRCost:500,TutorialSectorUnlockTime:30,CreditShipmentNames:["TID_TRADEITEM_ALLOYS","TID_TRADEITEM_DIAMONDS","TID_TRADEITEM_SILICON"],HydroShipmentNames:["TID_TRADEITEM_FUELCELLS","TID_TRADEITEM_SOLARCONVERTER","TID_TRADEITEM_GOLD"],CrystalShipmentName:"TID_TRADEITEM_CRYSTALS",MaxStarSystemLogEntries:80,MaxBlueprintsOfOneTypeAwardedEachTime:1e3,CreditsComissionRatePct:12,HydrogenComissionRatePct:10,GooglePlayDownloadURL:"market://details?id=com.ParallelSpace.Cerberus",AppleDownloadURL:"https://itunes.apple.com/us/app/hades-star/id1058502954?ls=1&mt=8",RedStarHintsCount:15,BlueStarHintsCount:5,RedStarHintTimer:12,NumSecondsBeforeSupernovaToSendNotification:120,CorporationCreationCost:1e4,TimeToTravelActiveWarpLaneSegmentSeconds:2,DistanceToWarpGatePriceFactor:9,WarpLaneActivationTimeHrs:24,MinShipLevelThatSupportsRename:2,FacebookURL:"https://facebook.com/hadesstar",InstagramURL:"https://www.instagram.com/hadesstargame/",TwitterURL:"https://twitter.com/hadesstargame",DiscordURL:"https://discord.gg/hadesstar",StarterPackShipUpgradeDiscountPct:10,DockAngleIncrement:60,DragToMoveAreaTolerance:150,ShipDockOffsetX:250,ShipDockOffsetY:200,MaxAllianceMessageLength:300,LargeSystemTravelTimeModifier:360,LargeSystemCombatTurnModifier:60,ReplayVersion:30,CorporationScoreIntervals:[10,20,100],CorporationScoreDividers:[2,4,10],PlaceIncomingStargateInMiddleOfSector:1,ShipmentAllowOverloadFactor:200,MinDestroyerSpawnTime:10,MaxDestroyerSpawnTime:60,AsteroidDisplaySizes:[50,200],EnableDec18CrystalShipmentPack:0,MoonDockOffset:90,NewsURL:"https://hadesstar.com/news/{0}.json",DisableRSSearchDuringTutorial:1,WarnOnSRSPlacementMinNumNeighbors:3,ConnectionPortOrders:[0,0,1],ConnectionTimeouts:3e3,RelicModel:"artifacts/Relic01",RelicSize:4,RelicTID:"TID_RELIC",RelicLoadTicks:240,CorpMaxMinInfluence:2e4,CorpMinInfuenceIncrements:[100,500],CorpMinInfluenceDiv:1e3,MaxAllianceSearchResults:30,BrowsingLatestChatMsgThreshold:1150,ClearInputFocusOnPingUI:1,MaxHydroStoredInAsteroid:1500,SupportViaWebPage:1,SupportWebURL:"https://hadesstar.com/{0}/support.html?uid={1}&pcc={2}",SupportWebURLSteam:"https://hadesstar.com/{0}/support.html?uid={1}&pcc={2}",WhiteStarHintCount:11,WhiteStarHintTimer:12,SectorEnrichCooldownSeconds:86400,SectorGenesisCooldownSeconds:720,WSMaxBSPerPlayer:1,WSMaxOtherPerPlayer:1,WSLostBSTimeCooldown:64800,WSLostOtherTimeCooldown:64800,WSJumpBSTimeCooldown:7200,WSJumpOtherTimeCooldown:7200,UnityMaxDamageIncreasePct:200,MaxScheduledOrders:12,MaxTimeMachineFutureSeconds:172800,WSBucketSizes:[5,10,15],WSHQAsteroidsPerBucket:[4,6,8],TimeMachineRewindIntervalSeconds:43200,InterceptorPrioritizeTriggerer:1,MaxAsteroidsInSector:14,DestinyDisableTimes:[4,48],DontAllowUseOfEnemyWSGate:1,BarrageMaxAdditionalEnemies:[16,8],WSShipXPCollectEnabled:0,WSShipMinXP:1e3,WSShipXPEventClientDisplayMode:0,WSShipEventTopBrackets:[3,20,200],WSShipEventCRRewards:[8e3,3e3,1e3],WSShipXPEventVersion:2,ShowActiveStars:1,HardTouchEnableIOS:1,HardTouchEnableAndroid:0,HardTouchEnablePressure:75,HardTouchZoomFactor:50,LeaderboardDlgChuckItems:20,PhoenixAIShipDirPositiveBonusPct:80,PhoenixAIShipDirNegativePenaltyPct:60,OutpostMaxShipmentDestinations:100,WarpLaneAutoPath:1,WarpLaneAutoAbortMs:100,WarpLaneMaxSearchDepth:4,TimeMachineAffectFxSpeed:1,SanctuaryHydroCostPct:0,BondMinPullVector:100,GoalRushCostMultiplier:100,FadeLoadingShipments:1,ShipsHealOnAnyObject:1,BackgroundReloadSec:30,AutoWarpLaneMinActivationTimeMin:2,AutoWarpLaneCheckCerberus:1,AutoWarpLaneCheckCerbAdjSectors:0,OldTutorialRemapArray:["T0","T0","T1","T2","T3","T3","T3","T3","T3","T3","T3","T4","G2","G2","G2","G2","G2","G2","G2","G3","G3","G3","G3","G3","G4","G4","G4","G5","FN","FN","FN"],AppleIAPCV:0,SmoothBarTimeSec:60,UseNewAutoShipmentLogic:1,NewAutoShipmentSameOutpostWeightFactor:10,BondOverridesBarrier:1,LeapBreaksBond:1,DestinyBreaksBond:1,TeleportBreaksBond:1,BondBreaksBond:1,TimeModulationFxSpeedup:300,NoKeepAliveDuringLoad:1,BondMaxPullListSize:20,BondWorksOnLoadingTransport:1,SDBonusIsPerAddShipment:1,CValidateRouteES:1,PrivateRSEventClientDisplayMode:2,FollowJumpShipImmediately:0,FreeObjectiveRefreshIntervalHr:72,SeparationMaxZoom:15,SeparationClampSize:45,SeparationMinDistance:8,SeparationMaxDistance:12,SeparationModifier:200,MinMultiSelectDistance:1e3,UseSeparationInYS:0,SafeInterceptorInPublicRS:1,NoCerbBondTeleportPRS:1,StoreArtifactBonusYield:20,BomberLaunchOffsetV:[50,100],AllShipmentInstaLoadYS:1,PubRSEMPReqEnemies:1,BlueStar_CRRewardRate:90,BlueStar_CRRewardWinLimit:1,BlueStar_CRRewardWinLimitPeriod:86400,BlueStar_HydroPctPerMatch:10,BlueStar_HydroPctPerPos:[100,60,25,10,0],BlueStar_MaxHydroPerDayPct:25,BlueStar_RankedMatchesPerDay:3,BlueStar_Fragments:[12,8,5,3,0],BlueStar_SPFactor:25,KillShipOn0H:1,BSAI_MinContrDistance:500,BSAI_EndGameSOCount:60,BSAI_MaxMoveWeight:1e6,BSAI_EG_StarPenalty:0,BSAI_EG_KZPenalty:500,STPeriodTicks:300,MaxBSShipDesigns:4,RefreshWeaponFxOnSelect:0,InfluenceDecayPct:3e3,InfluenceDecayPeriod:259200,WSScoreDamageModifier:1,WSScoreMiningModifier:5,WSScoreTransportModifier:800,NewsletterURL:"http://eepurl.com/cal8yD",FlagshipContribAmounts:[1e4,1e5,1e6,8e6],CRAsteroidMineTicks:600,TutorialDialogImg:["youtube/video1","youtube/video2","youtube/video3","youtube/video5"],TutorialDialogURL:["https://www.youtube.com/watch?v=UPkk6yKzRnI","https://www.youtube.com/watch?v=Ajdg8jgBXVg","https://www.youtube.com/watch?v=U4zvvJqsaXc","https://www.youtube.com/watch?v=LrY853vumu8"],RSPublicLateJoin_TimeAvailable:180,RSPublicLateJoin_ClientCacheExpiry:30,RSPublicLateJoin_MinStarLevel:5,BSWaitForRankedMinShipScore:2e3,LinkCorporationReward:100},j=4,V=[],Z=[];for(let Q=0;Q<j;Q++)V[Q]=G[`PremiumCurrencyTimeValue${Q}`],Z[Q]=G[`PremiumCurrencyToTimePrice${Q}`];function K(e){if(e<=0)return 0;if(e<V[0])return Z[0];for(let t=1;t<j;t++)if(e<V[t]){const a=V[t]-V[t-1],n=e-V[t-1],o=Z[t]-Z[t-1],i=n*o;return Z[t-1]+i/a}return Z[3]}const Y="modulesCalc",$=["Trade","Mining","Weapon","Shield","Support"],J=(0,n.aZ)({name:"ModulesCalc",components:{Head:M.Fb,Icon:D.Z,Modal:_.Z,Confirm:B},setup(){const{output:e,update:t,getModulesBySlotType:a}=z();return{output:e,logicUpdateOutput:t,getModulesBySlotType:a}},data(){return{title:this.$t("MODULES_CALC"),input:{actually:{},plan:{}},inputLocKeys:{actually:"CURRENT_LVL",plan:"PLAN_LVL"},updateOutput:e=>this.logicUpdateOutput(this.input,e),resetConfirm:()=>new Promise((()=>null)),types:$,sec2crystals:K,openModal:!1,modalOpts:{size:_.z.SMALL,title:this.$t("TID_TECH_DLG_TITLE"),data:{module:{},maxLevel:0,get key(){return this.module.Name}}},formatOpts:{$t:this.$t.bind(this),$te:this.$te.bind(this)},format:{key:e=>(0,W.Z)(e,this.$route.name,this.formatOpts),value:(e,t)=>(0,E.Z)(e,t,null,this.formatOpts)}}},created(){localStorage.getItem(Y)&&(this.input=JSON.parse(localStorage.getItem(Y)||"{}"))},mounted(){this.updateOutput()},methods:{isSelected(e,t){const{key:a}=this.modalOpts.data;let n=this.input.plan[a]||0;const o=this.input.actually[a];return o>n&&(n=this.onChangeLvl("plan",o)),"plan"==e?t==n:this.input[e][a]==t},isDisabled(e,t){const{key:a}=this.modalOpts.data;return!("plan"!=e||!this.input.actually)&&t<this.input.actually[a]},async onReset(e){if(this.openModal)"all"==e.target.name?(this.onChangeLvl("actually",0),this.onChangeLvl("plan",0)):this.onChangeLvl("plan",0);else{if("all"==e.target.name)await this.resetConfirm().then((()=>{this.input={actually:{},plan:{}}})).catch((()=>{}));else if(this.input.plan)for(const e in this.input.plan)e in this.input.plan&&(this.input.plan[e]=this.input.actually[e]);else this.input.plan={};this.updateOutput(),this.updateStorage()}},onChangeLvl(e,t){const a=this.modalOpts.data.module.Name;return t="string"===typeof t?parseInt(t):t,0==t?(delete this.input[e][a],delete this.output[e][a]):this.input[e][a]=t,this.updateOutput(a),this.updateStorage(),t},updateStorage(){localStorage.setItem(Y,JSON.stringify(this.input))},outputClasses(e,t){const{key:a}=this.modalOpts.data;if("plan"==e){const n=this.output[e][a][t];return{plan:!this.input.actually[a]||this.input.plan[a]>this.input.actually[a],plus:!H.includes(t),hide:this.input.plan[a]==this.input.actually[a]||"object"===typeof n}}return"actually"==e?{hide:H.includes(t)}:"total"===e?{hide:0==this.output.total[t]}:{}},openModuleInfo(e,t){this.modalOpts.data.module=e,this.modalOpts.data.maxLevel=t,this.openModal=!0}}}),q=(0,O.Z)(J,[["render",P],["__scopeId","data-v-2889dfb8"]]),X=q}}]);