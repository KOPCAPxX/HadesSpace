"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[752],{84790:(t,e,a)=>{a.d(e,{Z:()=>_,V:()=>d});var l=a(66252);function n(t,e,a,n,s,o){const u=(0,l.up)("Page");return(0,l.wg)(),(0,l.j4)(u,{"title-loc-key":s.locKey,"content-args":{data:s.data,iconDir:"game/Modules"},portrait:{src:s.img,alt:`${a.type} modules`}},null,8,["title-loc-key","content-args","portrait"])}var s=a(78558),o=a(20128),u=a(92022);const i=!!{NODE_ENV:"production",BASE_URL:"/HadesSpace/"}.VUE_APP_NEBULA_BUILD,c={Trade:"TID_TRADEITEM_ARTIFACT_UTILITY",Mining:"TID_TRADEITEM_ARTIFACT_UTILITY",Shield:"TID_TRADEITEM_ARTIFACT_COMBAT",Weapon:"TID_TRADEITEM_ARTIFACT_COMBAT",Support:"TID_TRADEITEM_ARTIFACT_SUPPORT"},p=(0,u.Z)(o.Z,{filter:([,t])=>!t.Hide,sort:([,t],[,e])=>i?t.RSLevel-e.RSLevel:t.AwardLevel-e.AwardLevel}),d=t=>(0,u.Z)(p,{filter:([,e])=>e.SlotType===t}),r={components:{Page:s.Z},props:{type:{type:String,required:!0},portrait:{type:String,required:!0},postFilter:{type:Function,default:t=>t}},data(){return{data:this.postFilter(this.addArtifactName(d(this.type))),img:a(17181)(`./${this.portrait}.png`),locKey:`TYPE_MOD_${this.type.toUpperCase()}`}},methods:{addArtifactName(t){for(const e of Object.values(t))e.SlotType&&e.RSLevel&&(e.artifact=`${this.$t(c[e.SlotType])} ${this.$t("TID_LEVEL_GENERIC",[e.RSLevel]).toLowerCase()}`);return t}}};var m=a(83744);const y=(0,m.Z)(r,[["render",n]]),_=y},74362:(t,e,a)=>{a.r(e),a.d(e,{default:()=>E});var l=a(66252),n=a(3577);const s=t=>((0,l.dD)("data-v-32b053ca"),t=t(),(0,l.Cn)(),t),o={class:"container"},u={class:"sections-input"},i=["onClick"],c={class:"levels"},p={class:"modal-module"},d={class:"title"},r={class:"reset-buttons"},m={class:"chars"},y=["onChange"],_=["selected","disabled"],h=s((()=>(0,l._)("br",null,null,-1))),k={key:0};function T(t,e,a,s,T,g){const C=(0,l.up)("calculator"),D=(0,l.up)("Icon"),v=(0,l.up)("modal"),w=(0,l.Q2)("t");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",o,[(0,l.Wm)(C,{input:t.input,"onUpdate:input":e[0]||(e[0]=e=>t.input=e),"stack-chars":t.stackChars,"calc-total":t.calcTotal,"local-storage-key":"modulesCalc","title-key":"MODULES_CALC",onSetup:t.setupCalculator},null,8,["input","stack-chars","calc-total","onSetup"]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.modules,((e,a)=>((0,l.wg)(),(0,l.iD)("section",{key:a,class:"type"},[(0,l._)("h3",null,(0,n.zw)(t.format.key(a)),1),(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(([e,a])=>((0,l.wg)(),(0,l.iD)("li",{key:e.Name,class:"module"},[(0,l._)("div",{class:(0,n.C_)({mute:!t.input.plan[e.Name]}),onClick:()=>t.openModuleInfo(e,a)},[(0,l.Wm)(D,{name:e.Icon,dir:"game/Modules"},null,8,["name"]),(0,l._)("div",c,[(0,l._)("span",null,(0,n.zw)(t.input.actually[e.Name]?t.input.actually[e.Name]:""),1),(0,l._)("span",null,(0,n.zw)(t.input.plan[e.Name]&&t.input.plan[e.Name]!=t.input.actually[e.Name]?t.input.plan[e.Name]:""),1)])],10,i)])))),128))])])))),128))])]),(0,l.Wm)(v,(0,l.dG)({open:t.openModal,"onUpdate:open":e[3]||(e[3]=e=>t.openModal=e)},t.modalOpts),{body:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("div",d,[(0,l._)("div",null,[(0,l._)("h2",null,(0,n.zw)(t.$t(t.modalOpts.data.module.TID)),1),(0,l._)("div",r,[(0,l._)("button",{name:"plan",class:"button yellow",onClick:e[1]||(e[1]=(...e)=>t.onReset&&t.onReset(...e))},(0,n.zw)(t.$t("RESET_PLAN")),1),(0,l._)("button",{name:"all",class:"button red",onClick:e[2]||(e[2]=(...e)=>t.onReset&&t.onReset(...e))},(0,n.zw)(t.$t("RESET_ALL")),1)])]),(0,l.Wm)(D,{name:t.modalOpts.data.module.Icon,dir:"game/Modules"},null,8,["name"])]),(0,l._)("ul",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(t.input),(e=>((0,l.wg)(),(0,l.iD)("li",{key:e,class:"input"},[(0,l.wy)((0,l._)("span",null,null,512),[[w,t.inputLocKeys[e]]]),(0,l._)("select",{class:"select-lvl",onChange:a=>t.onChangeLvl(e,a.target.value)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.modalOpts.data.maxLevel+1,((a,s)=>((0,l.wg)(),(0,l.iD)("option",{key:a,selected:t.isSelected(e,s),disabled:t.isDisabled(e,s)},(0,n.zw)(s),9,_)))),128))],40,y)])))),128)),h,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(t.calc.output.plan[t.modalOpts.data.key]||{}),(e=>((0,l.wg)(),(0,l.iD)("li",{key:e,class:(0,n.C_)({output:!0,"sub-chars":"object"==typeof t.calc.output.plan?.[t.modalOpts.data.key]?.[e]})},[(0,l._)("b",null,(0,n.zw)(t.format.key(e)),1),(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(t.input),(a=>((0,l.wg)(),(0,l.iD)("span",{key:a,class:(0,n.C_)(t.outputClasses(a,e))},["object"===typeof t.calc.output[a]?.[t.modalOpts.data.key]?.[e]?((0,l.wg)(),(0,l.iD)("ul",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(t.calc.output[a][t.modalOpts.data.key][e]||{}),(a=>((0,l.wg)(),(0,l.iD)("li",{key:a,class:"output"},[(0,l._)("b",null,(0,n.zw)(t.format.key(a)),1),(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(t.input),(s=>((0,l.wg)(),(0,l.iD)("span",{key:s,class:(0,n.C_)(t.outputClasses(s,a))},(0,n.zw)(t.format.value(a,t.calc.output[s]?.[t.modalOpts.data.key]?.[e]?.[a])),3)))),128))])])))),128))])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,n.zw)(t.format.value(e,t.calc.output[a]?.[t.modalOpts.data.key]?.[e])),1)],64))],2)))),128))])],2)))),128))])])])),_:1},16,["open"])])}var g=a(90682),C=a(50139),D=a(96785),v=a(40885),w=a(39114),L=a(84790);const A=["UnlockPrice","UnlockTime"],I=["Trade","Mining","Weapon","Shield","Support"],O=(0,l.aZ)({name:"ModulesCalc",components:{Icon:g.Z,Modal:C.Z,Calculator:D.Z},data(){return{inputLocKeys:{actually:"CURRENT_LVL",plan:"PLAN_LVL"},format:{key:t=>(0,w.Z)(t,this.$route.name),value:(t,e)=>(0,v.Z)(t,e,null)},types:I,stackChars:A,modules:{},calc:{},input:{actually:{},plan:{}},resetConfirm:()=>new Promise((()=>null)),openModal:!1,modalOpts:{size:C.z.SMALL,title:this.$t("TID_TECH_DLG_TITLE"),data:{module:{},maxLevel:0,get key(){return this.module.Name}}}}},methods:{setupCalculator(t){this.calc=t;for(const e of I)this.modules[e]=t.provideGetterElements(((...t)=>f.apply(null,[e,...t])))},onChangeLvl(t,e){return this.calc.onChangeLvl(t,this.modalOpts.data.key,e)},isSelected(t,e){return this.calc.isSelected(t,this.modalOpts.data.key,e)},isDisabled(t,e){return this.calc.isDisabled(t,this.modalOpts.data.key,e)},async onReset(t){this.openModal&&("all"==t.target.name?(this.onChangeLvl("actually",0),this.onChangeLvl("plan",0)):this.onChangeLvl("plan",0))},outputClasses(t,e){return this.calc.outputClasses(t,this.modalOpts.data.key,e)},openModuleInfo(t,e){this.modalOpts.data.module=t,this.modalOpts.data.maxLevel=e,this.openModal=!0},calcTotal(t,e){const a=e.total;return a.result["ReqBank"]=0,function(e,l){const n=t[e].UnlockPrice,s=Array.isArray(n)?n[l.plan[e]-1]:n;a.result.ReqBank=s>a.result.ReqBank?s:a.result.ReqBank}}}});function f(t,...[e,a,l]){const n=(0,L.V)(t);return Object.entries(n).map((([t,s])=>{let o=1;for(const[,e]of Object.entries(s))Array.isArray(e)&&e.length>o&&(o=e.length);return l[t]=a(n[t],o),e[t]=s.TID,[s,o]}))}var R=a(83744);const b=(0,R.Z)(O,[["render",T],["__scopeId","data-v-32b053ca"]]),E=b}}]);