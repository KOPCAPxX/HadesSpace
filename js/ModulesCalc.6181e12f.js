"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[752],{93344:(l,a,t)=>{t.r(a),t.d(a,{default:()=>I});var e=t(66252),n=t(3577);const s=l=>((0,e.dD)("data-v-5ba2d4fc"),l=l(),(0,e.Cn)(),l),o={class:"container"},u={class:"sections-input"},c=["onClick"],i={class:"levels"},p={class:"modal-module"},d={class:"title"},r={class:"reset-buttons"},m={class:"chars"},y=["onChange"],k=["selected","disabled"],h=s((()=>(0,e._)("br",null,null,-1))),_=["item-key"],g={key:0};function w(l,a,t,s,w,C){const v=(0,e.up)("calculator"),b=(0,e.up)("Icon"),D=(0,e.up)("modal"),L=(0,e.Q2)("t");return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",o,[(0,e.Wm)(v,{input:l.input,"onUpdate:input":a[0]||(a[0]=a=>l.input=a),"stack-chars":l.stackChars,"calc-total":l.calcTotal,"local-storage-key":"modulesCalc","title-key":"MODULES_CALC",onSetup:l.setupCalculator},null,8,["input","stack-chars","calc-total","onSetup"]),(0,e._)("div",u,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.modules,((a,t)=>((0,e.wg)(),(0,e.iD)("section",{key:t,class:"type"},[(0,e._)("h3",null,(0,n.zw)(l.format.key(t)),1),(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a,(([a,t])=>((0,e.wg)(),(0,e.iD)("li",{key:a.Name,class:"module"},[(0,e._)("div",{class:(0,n.C_)({mute:!l.input.plan[a.Name]}),onClick:()=>l.openModuleInfo(a,t)},[(0,e.Wm)(b,{name:a.Icon,dir:"game/Modules"},null,8,["name"]),(0,e._)("div",i,[(0,e._)("span",null,(0,n.zw)(l.input.actually[a.Name]?l.input.actually[a.Name]:""),1),(0,e._)("span",null,(0,n.zw)(l.input.plan[a.Name]&&l.input.plan[a.Name]!=l.input.actually[a.Name]?l.input.plan[a.Name]:""),1)])],10,c)])))),128))])])))),128))])]),(0,e.Wm)(D,(0,e.dG)({open:l.openModal,"onUpdate:open":a[3]||(a[3]=a=>l.openModal=a)},l.modalOpts),{body:(0,e.w5)((()=>[(0,e._)("div",p,[(0,e._)("div",d,[(0,e._)("div",null,[(0,e._)("h2",null,(0,n.zw)(l.$t(l.modalOpts.data.module.TID)),1),(0,e._)("div",r,[(0,e._)("button",{name:"plan",class:"button yellow",onClick:a[1]||(a[1]=(...a)=>l.onReset&&l.onReset(...a))},(0,n.zw)(l.$t("RESET_PLAN")),1),(0,e._)("button",{name:"all",class:"button red",onClick:a[2]||(a[2]=(...a)=>l.onReset&&l.onReset(...a))},(0,n.zw)(l.$t("RESET_ALL")),1)])]),(0,e.Wm)(b,{name:l.modalOpts.data.module.Icon,dir:"game/Modules"},null,8,["name"])]),(0,e._)("ul",m,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(Object.keys(l.input),(a=>((0,e.wg)(),(0,e.iD)("li",{key:a,class:"input"},[(0,e.wy)((0,e._)("span",null,null,512),[[L,l.inputLocKeys[a]]]),(0,e._)("select",{class:"select-lvl",onChange:t=>l.onChangeLvl(a,t.target.value)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.modalOpts.data.maxLevel+1,((t,s)=>((0,e.wg)(),(0,e.iD)("option",{key:t,selected:l.isSelected(a,s),disabled:l.isDisabled(a,s)},(0,n.zw)(s),9,k)))),128))],40,y)])))),128)),h,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(Object.keys(l.calc.output.plan[l.modalOpts.data.key]||{}),(a=>((0,e.wg)(),(0,e.iD)("li",{key:a,class:(0,n.C_)({output:!0,"sub-chars":"object"==typeof l.calc.output.plan?.[l.modalOpts.data.key]?.[a]})},[(0,e._)("b",null,(0,n.zw)(l.format.key(a)),1),(0,e._)("div",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(Object.keys(l.input),(t=>((0,e.wg)(),(0,e.iD)("span",{key:t,class:(0,n.C_)(l.outputClasses(t,a)),"item-key":a},["object"===typeof l.calc.output[t]?.[l.modalOpts.data.key]?.[a]?((0,e.wg)(),(0,e.iD)("ul",g,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(Object.keys(l.calc.output[t][l.modalOpts.data.key][a]||{}),(t=>((0,e.wg)(),(0,e.iD)("li",{key:t,class:"output"},[(0,e._)("b",null,(0,n.zw)(l.format.key(t)),1),(0,e._)("div",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(Object.keys(l.input),(s=>((0,e.wg)(),(0,e.iD)("span",{key:s,class:(0,n.C_)(l.outputClasses(s,t))},(0,n.zw)(l.format.value(t,l.calc.output[s]?.[l.modalOpts.data.key]?.[a]?.[t])),3)))),128))])])))),128))])):((0,e.wg)(),(0,e.iD)(e.HY,{key:1},[(0,e.Uk)((0,n.zw)(l.format.value(a,l.calc.output[t]?.[l.modalOpts.data.key]?.[a])),1)],64))],10,_)))),128))])],2)))),128))])])])),_:1},16,["open"])])}var C=t(48449),v=t(36282),b=t(85346),D=t(97798),L=t(39114),O=t(72398);const f=["UnlockPrice","UnlockTime"],M=["Trade","Mining","Weapon","Shield","Support"],z=(0,e.aZ)({name:"ModulesCalc",components:{Icon:C.Z,Modal:v.Z,Calculator:b.Z},data(){return{inputLocKeys:{actually:"CURRENT_LVL",plan:"PLAN_LVL"},format:{key:l=>(0,L.Z)(l,this.$route.name),value:(l,a)=>(0,D.Z)(l,a,null)},types:M,stackChars:f,modules:{},calc:{},input:{actually:{},plan:{}},resetConfirm:()=>new Promise((()=>null)),openModal:!1,modalOpts:{size:v.z.SMALL,title:this.$t("TID_TECH_DLG_TITLE"),data:{module:{},maxLevel:0,get key(){return this.module.Name}}}}},methods:{setupCalculator(l){this.calc=l;for(const a of M)this.modules[a]=l.provideGetterElements(((...l)=>R.apply(null,[a,...l])))},onChangeLvl(l,a){return this.calc.onChangeLvl(l,this.modalOpts.data.key,a)},isSelected(l,a){return this.calc.isSelected(l,this.modalOpts.data.key,a)},isDisabled(l,a){return this.calc.isDisabled(l,this.modalOpts.data.key,a)},async onReset(l){this.openModal&&("all"==l.target.name?(this.onChangeLvl("actually",0),this.onChangeLvl("plan",0)):this.onChangeLvl("plan",0))},outputClasses(l,a){return this.calc.outputClasses(l,this.modalOpts.data.key,a)},openModuleInfo(l,a){this.modalOpts.data.module=l,this.modalOpts.data.maxLevel=a,this.openModal=!0},calcTotal(l,a){const t=a.total;return t.result["ReqBank"]=0,function(a,e){const n=l[a].UnlockPrice,s=Array.isArray(n)?n[e.plan[a]-1]:n;t.result.ReqBank=s>t.result.ReqBank?s:t.result.ReqBank}}}});function R(l,...[a,t,e]){const n=(0,O.VV)(l);return Object.entries(n).map((([l,s])=>{let o=1;for(const[,a]of Object.entries(s))Array.isArray(a)&&a.length>o&&(o=a.length);return e[l]=t(n[l],o),a[l]=s.TID,[s,o]}))}var T=t(83744);const N=(0,T.Z)(z,[["render",w],["__scopeId","data-v-5ba2d4fc"]]),I=N}}]);