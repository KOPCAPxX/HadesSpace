"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[212],{51382:(e,t,l)=>{l.d(t,{Z:()=>X});var n=l(66252),a=l(2262),s=l(3577),r=l(49963),o=l(70131),i=l(37928),u=l(77451),c=l(76068),d=l(50930),p=l(53269),f=l(76216),y=l(31303),g=l(16798),_=l(49152),v=l(78642),h=l(96124);function m(e,t){const l=(0,a.qj)({actually:{},plan:{},total:{intermediate:{},result:{}}}),n={};for(const a of e)l.total.result[a]=0;const s=t(n,l);return{provideGetterElements:r,output:l,update:o};function r(e){return e(f,n)}function o(t,n){const a=(e,l)=>i(e,(([n],a,s)=>d(Object.fromEntries(s),n,t.actually[e],l))),r=(e,t)=>i(e,(([,e])=>Array.isArray(e)?e[t-1]:e));n?(u(l.plan,n,a(n,t.plan[n])),u(l.actually,n,r(n,t.actually[n]))):(c(t.plan,l.plan,a),c(t.actually,l.actually,r)),p(l.total);for(const[o,i]of Object.entries(l.plan))if(Object.keys(i).length){for(const t of e)l.total.result[t]+=i[t];s(o,t)}}function i(e,t){return(...l)=>{const[[a]]=l;if(b(n[e][a])){const l=(0,v.Z)(n[e][a],{map:(...e)=>[e[0][0],t(...e)]});return[a,l]}const s=t(...l);return[a,s]}}function u(e,t,l){n[t]&&(e[t]=(0,v.Z)(n[t],{map:l}))}function c(e,t,l){if(Object.keys(e).length)for(const[n,a]of Object.entries(e))a?u(t,n,l(n,a)):t[n]={};else for(const n of Object.keys(t))delete t[n]}function d(t,l,n,a){const s=t[l],r=n>0?s[n-1]:0;let o=s[a-1];if(!Array.isArray(s))return!n&&a?s:0;if(e.includes(l)){o=0;let e=n>0?n-1:0;while(e<=a-1)o+=s[e],e++}return o-r}function p(e){for(const t in e)if(t in e){if(b(e[t])){p(e[t]);continue}e[t]=0}}function f(t,l){const n=C(t);return a(n),n;function a(t){for(const n in t)if(n in t){const a=t[n],s="boolean"==typeof a[1]?a[0]:a;if(b(s)){const e=f(s,l);Object.keys(e).length?t[n]=e:delete t[n];continue}if((!Array.isArray(s)||s.length!=l)&&!e.includes(n)){delete t[n];continue}"boolean"==typeof a[1]&&(t[n]=s)}return t}}}function b(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function C(e){const t=(0,v.Z)(e,{map:([t,l])=>[t,[l,(0,h.Z)(t,e.Name)]],filter:([e,[,t]])=>!e.startsWith("_")&&!(0,h.Z)(e,null,{asMeta:!0,asTitle:!1})&&(!!_.Z.state.userSettings.disableFilters||!t)});if(e.projectile){const{projectile:e}=t;delete t.projectile,t.projectile=e}return t}var w=l(16513);const S={crush:(e,t=50)=>{const l="",n=(e,n)=>{let a=n.length,s="";const r=e=>encodeURI(encodeURIComponent(e)).replace(/%../g,"i").length,o=e=>{let t=e.charCodeAt(0),l=e.charCodeAt(e.length-1);return t>=56320&&t<=57343||l>=55296&&l<=56319};let i={};for(let l=2;l<t;l++)for(let t=0;t<e.length-l;++t){let n=e.substr(t,l);if(i[n])continue;if(o(n))continue;let a=1;for(let s=e.indexOf(n,t+l);s>=0;++a)s=e.indexOf(n,s+l);a>1&&(i[n]=a)}while(1){for(;a--&&e.includes(n[a]););if(a<0)break;let t,o=n[a],u=0,c=r(o);for(let e in i){let n=i[e],a=(n-1)*r(e)-(n+1)*c;s.length||(a-=r(l)),a<=0?delete i[e]:a>u&&(t=e,u=a)}if(!t)break;e=e.split(t).join(o)+o+t,s=o+s;let d={};for(let l in i){let n=l.split(t).join(o),a=0;for(let t=e.indexOf(n);t>=0;++a)t=e.indexOf(n,t+n.length);a>1&&(d[n]=a)}i=d}return{a:e,b:s}};let a=[];const s="-_.!~*'()";for(let i=127;--i;)(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||s.includes(String.fromCharCode(i)))&&a.push(String.fromCharCode(i));for(let i=32;i<255;++i){let e=String.fromCharCode(i);"\\"==e||a.includes(e)||a.unshift(e)}e=e.replace(new RegExp(l,"g"),""),e=k(e);const r=n(e,a);let o=r.a;return r.b.length&&(o+=l+r.b),o+="_",o},uncrush:e=>{e=e.substring(0,e.length-1);const t=e.split("");let l=t[0];if(t.length>1){let e=t[1];for(let t of e){let e=l.split(t);l=e.join(e.pop())}}return k(l,0)}},k=(e,t=1)=>{const l=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],n=(e,t)=>{let l=new RegExp(`${(t[2]?t[2]:"")+t[0]}|${(t[3]?t[3]:"")+t[1]}`,"g");return e.replace(l,(e=>e===t[0]?t[1]:t[0]))};if(t)for(let a=0;a<l.length;++a)e=n(e,l[a]);else for(let a=l.length;a--;)e=n(e,l[a]);return e},D="new entry",E="en";class T{localStoreKey;store;TIDs={};constructor(e){this.localStoreKey=e,this.store=(0,a.qj)({configs:[],selected:0}),this.load()}get selectedConfig(){return this.store.configs[this.store.selected].value}load(){const e=JSON.parse(localStorage.getItem(this.localStoreKey)||"{}");e.configs?Object.assign(this.store,e):Object.keys(e).length&&e.actually&&e.plan?this.add(e):this.add()}save(){localStorage.setItem(this.localStoreKey,JSON.stringify(this.store))}removeSelected(){this.store.configs.splice(this.store.selected,1),0!=this.store.configs.length?this.store.selected=this.store.configs.length-1:this.add()}add(e,{temporary:t}={temporary:!1}){const l=this.store;let n,a=0;do{n=a?`${D} #${a}`:D,a++}while(l.configs.length&&l.configs.some((e=>e.name==n)));l.configs=[...l.configs,{name:n,value:e||{actually:{},plan:{}}}],l.selected=l.configs.length-1,t||this.save()}async parseString(e){const t=[];w["default"].global.availableLocales.includes(E)||await(0,w.J)(E);for(const[l,n]of Object.entries(this.TIDs)){const a=w["default"].global.t(n,E),s=new RegExp(`${a}\\s+?(\\d+)\\s?`,"mi"),[,r]=e.match(s)||[void 0,"0"];t.push([l,parseInt(r)])}return Object.fromEntries(t.filter((([,e])=>e)))}stringifyUrl(){const e=JSON.stringify(this.selectedConfig.actually);return S.crush(e)}parseUrl(e){return JSON.parse(S.uncrush(e))}}const U=e=>((0,n.dD)("data-v-600d6b06"),e=e(),(0,n.Cn)(),e),I={class:"topic"},O={class:"total-table"},A={key:0,colspan:"3"},Z={class:"buttons"},j={class:"reset-buttons"},R={class:"settings-modal"},L={class:"input-wrap"},x=["value"],z={class:"config-category"},H={class:"flex-end"},$={class:"select"},K={class:"name"},M=["value"],N={class:"input"},G={class:"name"},F=["placeholder"],P={class:"flex-end margin-bottom"},Y={class:"input"},W={class:"name"},q=U((()=>(0,n._)("p",{class:"name"},"Example: Fortify 8 Bond 5",-1))),B={class:"flex-end margin-bottom"},J=(0,n.aZ)({__name:"Calculator",props:{stackChars:{},calcTotal:{},localStorageKey:{},titleKey:{},input:{}},emits:["update:input","setup"],setup(e,{emit:t}){const l=e,{t:_}=(0,o.QT)(),v={key:e=>(0,f.Z)(e,i.Z.currentRoute.value.name),value:(e,t)=>(0,p.Z)(e,t,i.Z.currentRoute.value.name)},{provideGetterElements:h,output:b,update:C}=m(l.stackChars,l.calcTotal),w=new T(l.localStorageKey),S={output:b,onChangeLvl:ue,isSelected:ce,isDisabled:de,outputClasses:pe,forceReCalc:ne,format:v,provideGetterElements:e=>h(((...t)=>e(w.TIDs,...t)))};let k=()=>Promise.prototype;const D=(0,a.iH)(!1),E=(0,a.iH)(!1),U=(0,a.iH)(""),J=(0,a.iH)({text:_("COPY"),color:"yellow"}),V=(0,n.Fl)((()=>_(l.titleKey))),Q=(0,n.Fl)((()=>Object.keys(b.total.result))),X=(0,n.Fl)((()=>`${location.origin}${location.pathname}`));if(i.Z.currentRoute.value.query.d){const e=w.parseUrl(i.Z.currentRoute.value.query.d),t={actually:{...e},plan:{...e}};w.add(t,{temporary:!0})}function ee(e){k=e}function te(){t("update:input",w.selectedConfig)}function le(e){(0,n.Y3)((()=>C(l.input,e)))}function ne(){te(),le()}async function ae(e){if("all"==e.target.name)await k("Reset all ? Are you serious ?").then((()=>{for(const e in l.input)e in l.input&&(w.selectedConfig[e]={})})).catch((()=>{}));else if(l.input.plan)for(const t in l.input.plan)t in l.input.plan&&(w.selectedConfig.plan[t]=l.input.actually[t]);le(),w.save()}async function se(){const{name:e}=w.store.configs[w.store.selected];await k(_("REMOVE_CONFIG",[e])).then((()=>{w.removeSelected(),ne()})).catch((()=>{}))}async function re(){let e={};U.value&&await w.parseString(U.value).then((t=>e=t)).catch((e=>{alert(e.message),console.error(e)})),w.add({actually:{...e},plan:{...e}}),U.value="",E.value=!1,ne()}function oe(){const e=w.stringifyUrl();navigator.clipboard.writeText(`${X.value}?d=${e}`).then((()=>{J.value={text:_("COPIED"),color:"green"},setTimeout((()=>J.value={text:_("COPY"),color:"yellow"}),2e3)})).catch((e=>{J.value={text:_("Error"),color:"red"},alert(e.message),console.error(e)}))}function ie(e,t){const l=b.total.intermediate[t];if("plan"==e)return{"yellow-color plus":l.plan,hide:0==l.plan};if("sum"==e){const e=l.sum>l.actually;return{"green-color ":e,muffle:!e,hide:0==l.sum}}return{}}function ue(e,t,n){return n="string"===typeof n?parseInt(n):n,0==n?(delete l.input[e][t],delete b[e][t]):w.selectedConfig[e][t]=n,te(),le(t),w.save(),n}function ce(e,t,n){let a=l.input.plan[t]||0;const s=l.input.actually[t];return s>a&&(a=ue("plan",t,s)),"plan"==e?n==a:l.input[e][t]==n}function de(e,t,n){return!("plan"!=e||!l.input.actually)&&n<l.input.actually[t]}function pe(e,t,n){if("actually"==e)return{none:n&&Q.value.includes(n),actually:!0};if("plan"==e){const a=n?b[e][t][n]:void 0;return{"yellow-color":(!l.input.actually[t]||l.input.plan[t]>l.input.actually[t])&&"object"!==typeof a,plus:!n||n&&!Q.value.includes(n),none:l.input.plan[t]==l.input.actually[t],plan:!0}}return{}}return ne(),t("setup",S),(e,t)=>{const l=(0,n.Q2)("t");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)((0,a.SU)(u.Fb),null,{default:(0,n.w5)((()=>[(0,n._)("title",null,(0,s.zw)(V.value),1)])),_:1}),(0,n._)("h1",I,(0,s.zw)(V.value),1),(0,n._)("table",O,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,a.SU)(b).total.intermediate,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",{class:(0,s.C_)([(0,a.SU)(g.Z)(t),"stats-style"])},(0,s.zw)(v.key(t)),3),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,((e,l)=>((0,n.wg)(),(0,n.iD)("td",{key:t+l,class:(0,s.C_)(ie(l,t))},(0,s.zw)(e.toLocaleString("ru-RU")),3)))),128))])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,a.SU)(b).total.result,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t,class:"result"},[(0,n._)("td",{class:(0,s.C_)([(0,a.SU)(g.Z)(t),"stats-style"])},(0,s.zw)(v.key(t)),3),e>0?((0,n.wg)(),(0,n.iD)("td",A,[(0,n._)("b",null,(0,s.zw)(v.value(t,e)),1)])):(0,n.kq)("",!0)])))),128))]),(0,n._)("div",Z,[(0,n._)("button",{class:"settings",onClick:t[0]||(t[0]=e=>D.value=!0)}),(0,n._)("div",j,[(0,n._)("button",{class:"button yellow",name:"plan",onClick:ae},(0,s.zw)(e.$t("RESET_PLAN")),1),(0,n._)("button",{class:"button red",name:"all",onClick:ae},(0,s.zw)(e.$t("RESET_ALL")),1)])]),(0,n.Wm)(d.Z,{open:D.value,"onUpdate:open":[t[6]||(t[6]=e=>D.value=e),t[7]||(t[7]=()=>(0,a.SU)(w).save())],title:e.$t("CALCULATOR_SETTINGS"),size:(0,a.SU)(d.z).MEDIUM},{body:(0,n.w5)((()=>[(0,n._)("div",R,[(0,n._)("div",L,[(0,n.wy)((0,n._)("p",{class:(0,s.C_)(["stats-style",(0,a.SU)(g.Z)("CreditStorage")])},null,2),[[l,"TID_PLANET_UPG_CREDIT_YIELD"]]),(0,n._)("input",{value:e.$store.state.userSettings.calcDayCreditLimit,type:"number",min:"0",onInput:t[1]||(t[1]=t=>e.$store.commit((0,a.SU)(y.Z).SET_CALC_DAY_CREDIT_LIMIT,parseInt(t.target.value)))},null,40,x)]),(0,n._)("div",z,[(0,n.wy)((0,n._)("p",null,null,512),[[l,"CONFIG"]]),(0,n._)("div",H,[(0,n._)("button",{class:(0,s.C_)(`button ${J.value.color}`),onClick:oe},(0,s.zw)(J.value.text),3),(0,n.wy)((0,n._)("button",{class:"button green",onClick:t[2]||(t[2]=e=>E.value=!0)},null,512),[[l,"CREATE"]])])]),(0,n._)("div",$,[(0,n.wy)((0,n._)("p",K,null,512),[[l,"LIST"]]),(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>(0,a.SU)(w).store.selected=e),onChange:t[4]||(t[4]=e=>ne())},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,a.SU)(w).store.configs,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,s.zw)(e.name),9,M)))),128))],544),[[r.bM,(0,a.SU)(w).store.selected]])]),(0,n._)("div",N,[(0,n.wy)((0,n._)("p",G,null,512),[[l,"TID_CHANGE_NAME_TITLE"]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>(0,a.SU)(w).store.configs[(0,a.SU)(w).store.selected].name=e),placeholder:e.$t("TID_CORP_NAME_LABEL")},null,8,F),[[r.nr,(0,a.SU)(w).store.configs[(0,a.SU)(w).store.selected].name]])]),(0,n._)("div",P,[(0,n.wy)((0,n._)("button",{class:"button red",onClick:se},null,512),[[l,"TID_SOCIAL_DELETE_MESSAGE"]])])])])),_:1},8,["open","title","size"]),(0,n.Wm)(c.Z,{onSetShow:ee}),(0,n.Wm)(d.Z,{open:E.value,"onUpdate:open":t[9]||(t[9]=e=>E.value=e),title:e.$t("CREATE"),size:(0,a.SU)(d.z).SMALL},{body:(0,n.w5)((()=>[(0,n._)("div",Y,[(0,n.wy)((0,n._)("p",W,null,512),[[l,"FROM_TEXT_FORMAT"]]),q,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>U.value=e)},null,512),[[r.nr,U.value]])]),(0,n._)("div",B,[(0,n.wy)((0,n._)("button",{class:"button green",onClick:re},null,512),[[l,"TID_OK"]])])])),_:1},8,["open","title","size"])])}}});var V=l(83744);const Q=(0,V.Z)(J,[["__scopeId","data-v-600d6b06"]]),X=Q},76068:(e,t,l)=>{l.d(t,{Z:()=>y});var n=l(66252),a=l(49963),s=l(3577),r=l(2262),o=l(50930);const i={class:"wrap"},u={key:0,class:"container"},c={class:"buttons"},d=(0,n.aZ)({__name:"TheConfirm",emits:["setShow"],setup(e,{emit:t}){const l=(0,r.iH)(""),d=(0,r.iH)(!1);let p,f;function y(){_(f)}function g(e){return d.value=!0,l.value=e,new Promise(((e,t)=>{p=e,f=t}))}function _(e){e(),d.value=!1,p=()=>null,f=()=>null}return t("setShow",g),(e,t)=>{const g=(0,n.Q2)("t");return(0,n.wg)(),(0,n.j4)(o.Z,{title:"Confirm",open:d.value,"onUpdate:open":y},{default:(0,n.w5)((()=>[(0,n.Wm)(a.uT,null,{default:(0,n.w5)((()=>[(0,n._)("div",i,[d.value?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Uk)((0,s.zw)(l.value)+" ",1),(0,n._)("div",c,[(0,n.wy)((0,n._)("button",{onClick:t[0]||(t[0]=e=>_((0,r.SU)(f)))},null,512),[[g,"TID_CANCEL"]]),(0,n.wy)((0,n._)("button",{onClick:t[1]||(t[1]=e=>_((0,r.SU)(p)))},null,512),[[g,"TID_OK"]])])])):(0,n.kq)("",!0)])])),_:1})])),_:1},8,["open"])}}});var p=l(83744);const f=(0,p.Z)(d,[["__scopeId","data-v-7b674cbe"]]),y=f},85888:(e,t,l)=>{l.d(t,{Z:()=>n});const n={capital_ships:{player:["Transport","Miner","Battleship","CorpFlagship"],cerberus:["CerberusSentinel","CerberusGuardian","CerberusInterceptor","CerberusColossus","CerberusDestroyer","CerberusBomber","CerberusPhoenix","CerberusStorm","CerberusGhosts","CerberusHydra","Hydraling1","Hydraling2","CerberusCarrier"],darkCerberus:["DarkSentinel","DarkGuardian","DarkInterceptor","DarkColossus","DarkDestroyer","DarkBomber","DarkPhoenix","DarkStorm","DarkGhosts","DarkHydra","DarkHydraling1","DarkHydraling2","DarkCarrier"]},planets:{yellowstar:["desert_lv1","lava_lv1","water_lv1","terran_lv1","gas_lv1","terran_lv2","lava_lv2","water_lv2","gas_lv2","desert_lv2","lava_lv3","desert_lv3","water_lv3","terran_lv3","ice_variation1","ice_variation2"],redstar:["destroyed01","destroyed02","destroyed03","destroyed04","destroyed05","destroyed06","destroyed07","destroyed08","destroyed09","destroyed10"],whitestar:["whitestar1","whitestar2","whitestar_l1"]},artifact:["Trade","Mining","Weapon","Shield","Support","Drone"]}}}]);