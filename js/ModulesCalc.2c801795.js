"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[752],{23546:(l,e,t)=>{t.r(e),t.d(e,{default:()=>I});var a=t(66252),n=t(3577);const s=l=>((0,a.dD)("data-v-6ee96604"),l=l(),(0,a.Cn)(),l),o={class:"container"},u={class:"sections-input"},c=["onClick"],i={class:"levels"},p={class:"modal-module"},d={class:"title"},r={class:"reset-buttons"},m={class:"chars"},y=["onChange"],k=["selected","disabled"],h=s((()=>(0,a._)("br",null,null,-1))),_=["item-key"],g={key:0};function w(l,e,t,s,w,C){const v=(0,a.up)("calculator"),D=(0,a.up)("Icon"),b=(0,a.up)("modal"),L=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",o,[(0,a.Wm)(v,{input:l.input,"onUpdate:input":e[0]||(e[0]=e=>l.input=e),"stack-chars":l.stackChars,"calc-total":l.calcTotal,"local-storage-key":"modulesCalc","title-key":"MODULES_CALC",onSetup:l.setupCalculator},null,8,["input","stack-chars","calc-total","onSetup"]),(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.modules,((e,t)=>((0,a.wg)(),(0,a.iD)("section",{key:t,class:"type"},[(0,a._)("h3",null,(0,n.zw)(l.format.key(t)),1),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,(([e,t])=>((0,a.wg)(),(0,a.iD)("li",{key:e.Name,class:"module"},[(0,a._)("div",{class:(0,n.C_)({mute:!l.input.plan[e.Name]}),onClick:()=>l.openModuleInfo(e,t)},[(0,a.Wm)(D,{name:e.Icon,dir:"game/Modules"},null,8,["name"]),(0,a._)("div",i,[(0,a._)("span",null,(0,n.zw)(l.input.actually[e.Name]?l.input.actually[e.Name]:""),1),(0,a._)("span",null,(0,n.zw)(l.input.plan[e.Name]&&l.input.plan[e.Name]!=l.input.actually[e.Name]?l.input.plan[e.Name]:""),1)])],10,c)])))),128))])])))),128))])]),(0,a.Wm)(b,(0,a.dG)({open:l.openModal,"onUpdate:open":e[3]||(e[3]=e=>l.openModal=e)},l.modalOpts),{body:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",d,[(0,a._)("div",null,[(0,a._)("h2",null,(0,n.zw)(l.$t(l.modalOpts.data.module.TID)),1),(0,a._)("div",r,[(0,a._)("button",{name:"plan",class:"button yellow",onClick:e[1]||(e[1]=(...e)=>l.onReset&&l.onReset(...e))},(0,n.zw)(l.$t("RESET_PLAN")),1),(0,a._)("button",{name:"all",class:"button red",onClick:e[2]||(e[2]=(...e)=>l.onReset&&l.onReset(...e))},(0,n.zw)(l.$t("RESET_ALL")),1)])]),(0,a.Wm)(D,{name:l.modalOpts.data.module.Icon,dir:"game/Modules"},null,8,["name"])]),(0,a._)("ul",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(l.input),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"input"},[(0,a.wy)((0,a._)("span",null,null,512),[[L,l.inputLocKeys[e]]]),(0,a._)("select",{class:"select-lvl",onChange:t=>l.onChangeLvl(e,t.target.value)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.modalOpts.data.maxLevel+1,((t,s)=>((0,a.wg)(),(0,a.iD)("option",{key:t,selected:l.isSelected(e,s),disabled:l.isDisabled(e,s)},(0,n.zw)(s),9,k)))),128))],40,y)])))),128)),h,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(l.calc.output.plan[l.modalOpts.data.key]||{}),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,n.C_)({output:!0,"sub-chars":"object"==typeof l.calc.output.plan?.[l.modalOpts.data.key]?.[e]})},[(0,a._)("b",null,(0,n.zw)(l.format.key(e)),1),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(l.input),(t=>((0,a.wg)(),(0,a.iD)("span",{key:t,class:(0,n.C_)(l.outputClasses(t,e)),"item-key":e},["object"===typeof l.calc.output[t]?.[l.modalOpts.data.key]?.[e]?((0,a.wg)(),(0,a.iD)("ul",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(l.calc.output[t][l.modalOpts.data.key][e]||{}),(t=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"output"},[(0,a._)("b",null,(0,n.zw)(l.format.key(t)),1),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(l.input),(s=>((0,a.wg)(),(0,a.iD)("span",{key:s,class:(0,n.C_)(l.outputClasses(s,t))},(0,n.zw)(l.format.value(t,l.calc.output[s]?.[l.modalOpts.data.key]?.[e]?.[t])),3)))),128))])])))),128))])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Uk)((0,n.zw)(l.format.value(e,l.calc.output[t]?.[l.modalOpts.data.key]?.[e])),1)],64))],10,_)))),128))])],2)))),128))])])])),_:1},16,["open"])])}var C=t(48449),v=t(34272),D=t(87410),b=t(97798),L=t(39114),O=t(2100);const f=["UnlockPrice","UnlockTime"],M=["Trade","Mining","Weapon","Shield","Support"],z=(0,a.aZ)({name:"ModulesCalc",components:{Icon:C.Z,Modal:v.Z,Calculator:D.Z},data(){return{inputLocKeys:{actually:"CURRENT_LVL",plan:"PLAN_LVL"},format:{key:l=>(0,L.Z)(l,this.$route.name),value:(l,e)=>(0,b.Z)(l,e,null)},types:M,stackChars:f,modules:{},calc:{},input:{actually:{},plan:{}},resetConfirm:()=>new Promise((()=>null)),openModal:!1,modalOpts:{size:v.z.SMALL,title:this.$t("TID_TECH_DLG_TITLE"),data:{module:{},maxLevel:0,get key(){return this.module.Name}}}}},methods:{setupCalculator(l){this.calc=l;for(const e of M)this.modules[e]=l.provideGetterElements(((...l)=>R.apply(null,[e,...l])))},onChangeLvl(l,e){return this.calc.onChangeLvl(l,this.modalOpts.data.key,e)},isSelected(l,e){return this.calc.isSelected(l,this.modalOpts.data.key,e)},isDisabled(l,e){return this.calc.isDisabled(l,this.modalOpts.data.key,e)},async onReset(l){this.openModal&&("all"==l.target.name?(this.onChangeLvl("actually",0),this.onChangeLvl("plan",0)):this.onChangeLvl("plan",0))},outputClasses(l,e){return this.calc.outputClasses(l,this.modalOpts.data.key,e)},openModuleInfo(l,e){this.modalOpts.data.module=l,this.modalOpts.data.maxLevel=e,this.openModal=!0},calcTotal(l,e){const t=e.total;return t.result["ReqBank"]=0,function(e,a){const n=l[e].UnlockPrice,s=Array.isArray(n)?n[a.plan[e]-1]:n;t.result.ReqBank=s>t.result.ReqBank?s:t.result.ReqBank}}}});function R(l,...[e,t,a]){const n=(0,O.VV)(l);return Object.entries(n).map((([l,s])=>{let o=1;for(const[,e]of Object.entries(s))Array.isArray(e)&&e.length>o&&(o=e.length);return a[l]=t(n[l],o),e[l]=s.TID,[s,o]}))}var T=t(83744);const N=(0,T.Z)(z,[["render",w],["__scopeId","data-v-6ee96604"]]),I=N}}]);