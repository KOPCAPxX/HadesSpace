"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[910],{8622:(e,t,n)=>{n.d(t,{Z:()=>J});var l=n(66252),o=n(2262),a=n(3577),r=n(49963),s=n(70131),i=n(37928),c=n(77451),u=n(76068),d=n(50930),p=n(53269),f=n(76216),y=n(16798),g=n(49152),h=n(78642),v=n(96124);function _(e,t){const n=(0,o.qj)({actually:{},plan:{},total:{intermediate:{},result:{}}}),l={};for(const o of e)n.total.result[o]=0;const a=t(l,n);return{provideGetterElements:r,output:n,update:s};function r(e){return e(f,l)}function s(t,l){const o=(e,n)=>i(e,(([l],o,a)=>d(Object.fromEntries(a),l,t.actually[e],n))),r=(e,t)=>i(e,(([,e])=>Array.isArray(e)?e[t-1]:e));l?(c(n.plan,l,o(l,t.plan[l])),c(n.actually,l,r(l,t.actually[l]))):(u(t.plan,n.plan,o),u(t.actually,n.actually,r)),p(n.total);for(const[s,i]of Object.entries(n.plan))if(Object.keys(i).length){for(const t of e)n.total.result[t]+=i[t];a(s,t)}}function i(e,t){return(...n)=>{const[[o]]=n;if(m(l[e][o])){const n=(0,h.Z)(l[e][o],{map:(...e)=>[e[0][0],t(...e)]});return[o,n]}const a=t(...n);return[o,a]}}function c(e,t,n){l[t]&&(e[t]=(0,h.Z)(l[t],{map:n}))}function u(e,t,n){if(Object.keys(e).length)for(const[l,o]of Object.entries(e))o?c(t,l,n(l,o)):t[l]={};else for(const l of Object.keys(t))delete t[l]}function d(t,n,l,o){const a=t[n],r=l>0?a[l-1]:0;let s=a[o-1];if(!Array.isArray(a))return!l&&o?a:0;if(e.includes(n)){s=0;let e=l>0?l-1:0;while(e<=o-1)s+=a[e],e++}return s-r}function p(e){for(const t in e)if(t in e){if(m(e[t])){p(e[t]);continue}e[t]=0}}function f(t,n){const l=b(t);return o(l),l;function o(t){for(const l in t)if(l in t){const o=t[l],a="boolean"==typeof o[1]?o[0]:o;if(m(a)){const e=f(a,n);Object.keys(e).length?t[l]=e:delete t[l];continue}if((!Array.isArray(a)||a.length!=n)&&!e.includes(l)){delete t[l];continue}"boolean"==typeof o[1]&&(t[l]=a)}return t}}}function m(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function b(e){const t=(0,h.Z)(e,{map:([t,n])=>[t,[n,(0,v.Z)(t,e.Name)]],filter:([e,[,t]])=>!e.startsWith("_")&&!(0,v.Z)(e,null,{asMeta:!0,asTitle:!1})&&(!!g.Z.state.userSettings.disableFilters||!t)});if(e.projectile){const{projectile:e}=t;delete t.projectile,t.projectile=e}return t}var w=n(16513);const C={crush:(e,t=50)=>{const n="",l=(e,l)=>{let o=l.length,a="";const r=e=>encodeURI(encodeURIComponent(e)).replace(/%../g,"i").length,s=e=>{let t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t>=56320&&t<=57343||n>=55296&&n<=56319};let i={};for(let n=2;n<t;n++)for(let t=0;t<e.length-n;++t){let l=e.substr(t,n);if(i[l])continue;if(s(l))continue;let o=1;for(let a=e.indexOf(l,t+n);a>=0;++o)a=e.indexOf(l,a+n);o>1&&(i[l]=o)}while(1){for(;o--&&e.includes(l[o]););if(o<0)break;let t,s=l[o],c=0,u=r(s);for(let e in i){let l=i[e],o=(l-1)*r(e)-(l+1)*u;a.length||(o-=r(n)),o<=0?delete i[e]:o>c&&(t=e,c=o)}if(!t)break;e=e.split(t).join(s)+s+t,a=s+a;let d={};for(let n in i){let l=n.split(t).join(s),o=0;for(let t=e.indexOf(l);t>=0;++o)t=e.indexOf(l,t+l.length);o>1&&(d[l]=o)}i=d}return{a:e,b:a}};let o=[];const a="-_.!~*'()";for(let i=127;--i;)(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||a.includes(String.fromCharCode(i)))&&o.push(String.fromCharCode(i));for(let i=32;i<255;++i){let e=String.fromCharCode(i);"\\"==e||o.includes(e)||o.unshift(e)}e=e.replace(new RegExp(n,"g"),""),e=S(e);const r=l(e,o);let s=r.a;return r.b.length&&(s+=n+r.b),s+="_",s},uncrush:e=>{e=e.substring(0,e.length-1);const t=e.split("");let n=t[0];if(t.length>1){let e=t[1];for(let t of e){let e=n.split(t);n=e.join(e.pop())}}return S(n,0)}},S=(e,t=1)=>{const n=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],l=(e,t)=>{let n=new RegExp(`${(t[2]?t[2]:"")+t[0]}|${(t[3]?t[3]:"")+t[1]}`,"g");return e.replace(n,(e=>e===t[0]?t[1]:t[0]))};if(t)for(let o=0;o<n.length;++o)e=l(e,n[o]);else for(let o=n.length;o--;)e=l(e,n[o]);return e},k="new entry",D="en";class E{localStoreKey;store;TIDs={};constructor(e){this.localStoreKey=e,this.store=(0,o.qj)({configs:[],selected:0}),this.load()}get selectedConfig(){return this.store.configs[this.store.selected].value}load(){const e=JSON.parse(localStorage.getItem(this.localStoreKey)||"{}");e.configs?Object.assign(this.store,e):Object.keys(e).length&&e.actually&&e.plan?this.add(e):this.add()}save(){localStorage.setItem(this.localStoreKey,JSON.stringify(this.store))}removeSelected(){this.store.configs.splice(this.store.selected,1),0!=this.store.configs.length?this.store.selected=this.store.configs.length-1:this.add()}add(e,{temporary:t}={temporary:!1}){const n=this.store;let l,o=0;do{l=o?`${k} #${o}`:k,o++}while(n.configs.length&&n.configs.some((e=>e.name==l)));n.configs=[...n.configs,{name:l,value:e||{actually:{},plan:{}}}],n.selected=n.configs.length-1,t||this.save()}async parseString(e){const t=[];w["default"].global.availableLocales.includes(D)||await(0,w.J)(D);for(const[n,l]of Object.entries(this.TIDs)){const o=w["default"].global.t(l,D),a=new RegExp(`${o}\\s+?(\\d+)\\s?`,"mi"),[,r]=e.match(a)||[void 0,"0"];t.push([n,parseInt(r)])}return Object.fromEntries(t.filter((([,e])=>e)))}stringifyUrl(){const e=JSON.stringify(this.selectedConfig.actually);return C.crush(e)}parseUrl(e){return JSON.parse(C.uncrush(e))}}const O=e=>((0,l.dD)("data-v-dd4d13c4"),e=e(),(0,l.Cn)(),e),T={class:"topic"},U={class:"total-table"},I={key:0,colspan:"3"},A={class:"buttons"},Z={class:"reset-buttons"},j={class:"settings-modal"},R={class:"config-category"},x={class:"flex-end"},z={class:"select"},H={class:"name"},L=["value"],$={class:"input"},K={class:"name"},M=["placeholder"],N={class:"flex-end margin-bottom"},G={class:"input"},F={class:"name"},P=O((()=>(0,l._)("p",{class:"name"},"Example: Fortify 8 Bond 5",-1))),W={class:"flex-end margin-bottom"},Y=(0,l.aZ)({__name:"Calculator",props:{stackChars:{},calcTotal:{},localStorageKey:{},titleKey:{},input:{}},emits:["update:input","setup"],setup(e,{emit:t}){const n=e,{t:g}=(0,s.QT)(),h={key:e=>(0,f.Z)(e,i.Z.currentRoute.value.name),value:(e,t)=>(0,p.Z)(e,t,i.Z.currentRoute.value.name)},{provideGetterElements:v,output:m,update:b}=_(n.stackChars,n.calcTotal),w=new E(n.localStorageKey),C={output:m,onChangeLvl:re,isSelected:se,isDisabled:ie,outputClasses:ce,forceReCalc:ee,format:h,provideGetterElements:e=>v(((...t)=>e(w.TIDs,...t)))};let S=()=>Promise.prototype;const k=(0,o.iH)(!1),D=(0,o.iH)(!1),O=(0,o.iH)(""),Y=(0,o.iH)({text:g("COPY"),color:"yellow"}),q=(0,l.Fl)((()=>g(n.titleKey))),B=(0,l.Fl)((()=>Object.keys(m.total.result))),J=(0,l.Fl)((()=>`${location.origin}${location.pathname}`));if(i.Z.currentRoute.value.query.d){const e=w.parseUrl(i.Z.currentRoute.value.query.d),t={actually:{...e},plan:{...e}};w.add(t,{temporary:!0})}function V(e){S=e}function Q(){t("update:input",w.selectedConfig)}function X(e){(0,l.Y3)((()=>b(n.input,e)))}function ee(){Q(),X()}async function te(e){if("all"==e.target.name)await S("Reset all ? Are you serious ?").then((()=>{for(const e in n.input)e in n.input&&(w.selectedConfig[e]={})})).catch((()=>{}));else if(n.input.plan)for(const t in n.input.plan)t in n.input.plan&&(w.selectedConfig.plan[t]=n.input.actually[t]);X(),w.save()}async function ne(){const{name:e}=w.store.configs[w.store.selected];await S(g("REMOVE_CONFIG",[e])).then((()=>{w.removeSelected(),ee()})).catch((()=>{}))}async function le(){let e={};O.value&&await w.parseString(O.value).then((t=>e=t)).catch((e=>{alert(e.message),console.error(e)})),w.add({actually:{...e},plan:{...e}}),O.value="",D.value=!1,ee()}function oe(){const e=w.stringifyUrl();navigator.clipboard.writeText(`${J.value}?d=${e}`).then((()=>{Y.value={text:g("COPIED"),color:"green"},setTimeout((()=>Y.value={text:g("COPY"),color:"yellow"}),2e3)})).catch((e=>{Y.value={text:g("Error"),color:"red"},alert(e.message),console.error(e)}))}function ae(e,t){const n=m.total.intermediate[t];if("plan"==e)return{"yellow-color plus":n.plan,hide:0==n.plan};if("sum"==e){const e=n.sum>n.actually;return{"green-color ":e,muffle:!e,hide:0==n.sum}}return{}}function re(e,t,l){return l="string"===typeof l?parseInt(l):l,0==l?(delete n.input[e][t],delete m[e][t]):w.selectedConfig[e][t]=l,Q(),X(t),w.save(),l}function se(e,t,l){let o=n.input.plan[t]||0;const a=n.input.actually[t];return a>o&&(o=re("plan",t,a)),"plan"==e?l==o:n.input[e][t]==l}function ie(e,t,l){return!("plan"!=e||!n.input.actually)&&l<n.input.actually[t]}function ce(e,t,l){if("actually"==e)return{none:l&&B.value.includes(l),actually:!0};if("plan"==e){const o=l?m[e][t][l]:void 0;return{"yellow-color":(!n.input.actually[t]||n.input.plan[t]>n.input.actually[t])&&"object"!==typeof o,plus:!l||l&&!B.value.includes(l),none:n.input.plan[t]==n.input.actually[t],plan:!0}}return{}}return ee(),t("setup",C),(e,t)=>{const n=(0,l.Q2)("t");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)((0,o.SU)(c.Fb),null,{default:(0,l.w5)((()=>[(0,l._)("title",null,(0,a.zw)(q.value),1)])),_:1}),(0,l._)("h1",T,(0,a.zw)(q.value),1),(0,l._)("table",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(m).total.intermediate,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",{class:(0,a.C_)([(0,o.SU)(y.Z)(t),"stats-style"])},(0,a.zw)(h.key(t)),3),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((e,n)=>((0,l.wg)(),(0,l.iD)("td",{key:t+n,class:(0,a.C_)(ae(n,t))},(0,a.zw)(e.toLocaleString("ru-RU")),3)))),128))])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(m).total.result,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t,class:"result"},[(0,l._)("td",{class:(0,a.C_)([(0,o.SU)(y.Z)(t),"stats-style"])},(0,a.zw)(h.key(t)),3),e>0?((0,l.wg)(),(0,l.iD)("td",I,[(0,l._)("b",null,(0,a.zw)(h.value(t,e)),1)])):(0,l.kq)("",!0)])))),128))]),(0,l._)("div",A,[(0,l._)("button",{class:"settings",onClick:t[0]||(t[0]=e=>k.value=!0)}),(0,l._)("div",Z,[(0,l._)("button",{class:"button yellow",name:"plan",onClick:te},(0,a.zw)(e.$t("RESET_PLAN")),1),(0,l._)("button",{class:"button red",name:"all",onClick:te},(0,a.zw)(e.$t("RESET_ALL")),1)])]),(0,l.Wm)(d.Z,{open:k.value,"onUpdate:open":[t[5]||(t[5]=e=>k.value=e),t[6]||(t[6]=()=>(0,o.SU)(w).save())],title:e.$t("CALCULATOR_SETTINGS"),size:(0,o.SU)(d.z).MEDIUM},{body:(0,l.w5)((()=>[(0,l._)("div",j,[(0,l._)("div",R,[(0,l.wy)((0,l._)("p",null,null,512),[[n,"CONFIG"]]),(0,l._)("div",x,[(0,l._)("button",{class:(0,a.C_)(`button ${Y.value.color}`),onClick:oe},(0,a.zw)(Y.value.text),3),(0,l.wy)((0,l._)("button",{class:"button green",onClick:t[1]||(t[1]=e=>D.value=!0)},null,512),[[n,"CREATE"]])])]),(0,l._)("div",z,[(0,l.wy)((0,l._)("p",H,null,512),[[n,"LIST"]]),(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>(0,o.SU)(w).store.selected=e),onChange:t[3]||(t[3]=e=>ee())},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(w).store.configs,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,a.zw)(e.name),9,L)))),128))],544),[[r.bM,(0,o.SU)(w).store.selected]])]),(0,l._)("div",$,[(0,l.wy)((0,l._)("p",K,null,512),[[n,"TID_CHANGE_NAME_TITLE"]]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.SU)(w).store.configs[(0,o.SU)(w).store.selected].name=e),placeholder:e.$t("TID_CORP_NAME_LABEL")},null,8,M),[[r.nr,(0,o.SU)(w).store.configs[(0,o.SU)(w).store.selected].name]])]),(0,l._)("div",N,[(0,l.wy)((0,l._)("button",{class:"button red",onClick:ne},null,512),[[n,"TID_SOCIAL_DELETE_MESSAGE"]])])])])),_:1},8,["open","title","size"]),(0,l.Wm)(u.Z,{onSetShow:V}),(0,l.Wm)(d.Z,{open:D.value,"onUpdate:open":t[8]||(t[8]=e=>D.value=e),title:e.$t("CREATE"),size:(0,o.SU)(d.z).SMALL},{body:(0,l.w5)((()=>[(0,l._)("div",G,[(0,l.wy)((0,l._)("p",F,null,512),[[n,"FROM_TEXT_FORMAT"]]),P,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>O.value=e)},null,512),[[r.nr,O.value]])]),(0,l._)("div",W,[(0,l.wy)((0,l._)("button",{class:"button green",onClick:le},null,512),[[n,"TID_OK"]])])])),_:1},8,["open","title","size"])])}}});var q=n(83744);const B=(0,q.Z)(Y,[["__scopeId","data-v-dd4d13c4"]]),J=B},76068:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(66252),o=n(49963),a=n(3577),r=n(2262),s=n(50930);const i={class:"wrap"},c={key:0,class:"container"},u={class:"buttons"},d=(0,l.aZ)({__name:"TheConfirm",emits:["setShow"],setup(e,{emit:t}){const n=(0,r.iH)(""),d=(0,r.iH)(!1);let p,f;function y(){h(f)}function g(e){return d.value=!0,n.value=e,new Promise(((e,t)=>{p=e,f=t}))}function h(e){e(),d.value=!1,p=()=>null,f=()=>null}return t("setShow",g),(e,t)=>{const g=(0,l.Q2)("t");return(0,l.wg)(),(0,l.j4)(s.Z,{title:"Confirm",open:d.value,"onUpdate:open":y},{default:(0,l.w5)((()=>[(0,l.Wm)(o.uT,null,{default:(0,l.w5)((()=>[(0,l._)("div",i,[d.value?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Uk)((0,a.zw)(n.value)+" ",1),(0,l._)("div",u,[(0,l.wy)((0,l._)("button",{onClick:t[0]||(t[0]=e=>h((0,r.SU)(f)))},null,512),[[g,"TID_CANCEL"]]),(0,l.wy)((0,l._)("button",{onClick:t[1]||(t[1]=e=>h((0,r.SU)(p)))},null,512),[[g,"TID_OK"]])])])):(0,l.kq)("",!0)])])),_:1})])),_:1},8,["open"])}}});var p=n(83744);const f=(0,p.Z)(d,[["__scopeId","data-v-7b674cbe"]]),y=f},85888:(e,t,n)=>{n.d(t,{Z:()=>l});const l={capital_ships:{player:["Transport","Miner","Battleship","CorpFlagship"],cerberus:["CerberusSentinel","CerberusGuardian","CerberusInterceptor","CerberusColossus","CerberusDestroyer","CerberusBomber","CerberusPhoenix","CerberusStorm","CerberusGhosts","CerberusHydra","Hydraling1","Hydraling2","CerberusCarrier"],darkCerberus:["DarkSentinel","DarkGuardian","DarkInterceptor","DarkColossus","DarkDestroyer","DarkBomber","DarkPhoenix","DarkStorm","DarkGhosts","DarkHydra","DarkHydraling1","DarkHydraling2","DarkCarrier"]},planets:{yellowstar:["desert_lv1","lava_lv1","water_lv1","terran_lv1","gas_lv1","terran_lv2","lava_lv2","water_lv2","gas_lv2","desert_lv2","lava_lv3","desert_lv3","water_lv3","terran_lv3","ice_variation1","ice_variation2"],redstar:["destroyed01","destroyed02","destroyed03","destroyed04","destroyed05","destroyed06","destroyed07","destroyed08","destroyed09","destroyed10"],whitestar:["whitestar1","whitestar2","whitestar_l1"]},artifact:["Trade","Mining","Weapon","Shield","Support","Drone"]}}}]);