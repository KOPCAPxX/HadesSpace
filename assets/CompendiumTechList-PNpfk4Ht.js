import{d as b,g as V,l as N,n as F,E as K,k as I,r as O,o as n,b as o,f as e,u as C,G as h,t as g,w as E,J,e as S,h as U,K as Y,C as T,S as z,M as Z,L as H,p as q,i as Q,N as $,_ as P,O as W,F as R,D as M,I as k}from"./index-bIDuJvz9.js";import{C as X}from"./TheConfirm-Pu7z3bDr.js";import{s as y}from"./capital_ships-ioQeNDqF.js";import{s as B}from"./spacebuildings-NmTc9Pj4.js";import{g as j}from"./ModulePage.vue_vue_type_script_setup_true_lang-tQngS32Y.js";import{k as x,v as ee}from"./Data-Xk5W5PoH.js";import{b as ae}from"./byTypes-1BYQ2hUk.js";const L="https://cdn.discordapp.com/";function se(m,_,d=80){const i=new URL(`avatars/${m}/${_}.webp`,L);return i.searchParams.set("size",String(d)),i}function te(m,_,d=96){const i=new URL(`icons/${m}/${_}.webp`,L);return i.searchParams.set("size",String(d)),i}const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEe0lEQVR4nN1av2tUQRAeIaDGIkpAwbsE1MJGCzHkQAwGrFN4tWJjo5CAiCaNSLBJDCJ4hRaCCNZn4T+QwiZBsbIW1BMMgr8wIgTifHe75N3e7Lu3v3IXP/iK2/fevPl2Z+ftzt7A08YmJUKJOc48wSwrDqpr68yPzE/Md8xVZiOFEwMJbELYNLOScw+EHlc8r9pWmDWKLDSmwCLC8lBRrCtGERpLIEIR4soRbFWVPYzmaqixGALPMu8WuA/zTY8KRjuvM3BtkXmb+SrEuVCB6Ok8cQg1zC3bSOB5hGXVch22ZylgJEMEYhQWLdeKJoxVRXSEbf7iHRfJc06GCJy2tD9kvnC0BefnmBeYM5Z3zZEHfAXCEam3fcRloZ81RVbUO51t+wqU5kydwsRpwEZZeEeVtkngOHVmQGTIGsVDTXhPWbU5JRwfgVJo1ik+YFMK1eQCzxm/NyhOaJqAzWvU7iPe7RQprgIPMIeNtuDVRg5g+0zm97Dy4VtRA64CjwltSXYBObbhw+uiBlwF7hXaPlM6SLYlH6xwFbhHaPtF6SDZlnywwlXgutB2kNJBsi35YIWrwK9C2yFKB8m25IMVrgI/MFHj2JVpO0npYNreVD4UhqvAP9TKbNkVxlFq7SxiZ9OSsp1FQ/lQGD4fenybzKUa1okxl2rapvRuJ/gIrJO8EI5WR6HW6NkW9E7wEQgR2NCaa9IF5iWKgwWhbYU8OtB3u4RwNAUibJeYNykMSyTXa7ymgK9A9KQUqmPU6n2f+qYuO44J17zDP6RkIe3ZAF3fdNnd20oVQNBeM7SqhjrJfZI/yDOKL5lvme+Z39W1/cwjzFPMqRz7X8izFqMRKhBhc4NaYWmrc05RvggbMHJzFJiZYxR+dUXsOcVDFHFAjMIvEo3veYQNiAZ0GD4NSDDbXviNeRaRB52wdKJJvpJBKr/OPO3wzF/aCjW9gT2csbe7gA19VvGG+YAcQtdFYF4qzwK9jZ7WK49uzpQUMVLSZycLdCxCt/AnqKhAhGO1yz2+53q6E3T46XVo3vvQ0eiIrt/HbgL3UesIy5ZEfjCfUdyyIcTWFBE1l5lDwn3oAHQGTqB+24x1E/iY7CET9STWAnQcRtY2ouh4+Ghd5OcJzPt4B53ZOUKPKOa0dFwHH+GruOKxCbSd1SEL3qK0o2YDOhTnhPdoKwtrwFf43DEnJYGIeykcIO4q8yf1Dg3lwyPqFAmfkcHb8oEpEJP2imBYL516KU4DPiCKpCkE39v+c2MKxDAPUieirAsjwrb+he9tp8FZgfoPASZmqb/EacAn+GYmHr1gaCbBrEBp3i3T9mVLH8C3Zeak0V4lQ6BeKpl4Qv0P+DhptEFLs1arBdpKdP0YmiZs9aFmrVYLHBceTHEsnQqSwKYmCJT+VuVVg+whpFotNJUgcEJ4YIV2HqRi9AQEjgg393PmtEHyecQmcCeFp4bkc1PgqHAhezawQf2NvB3RKC5Km8nYVbJeYSjFf7b7ChC4Rmn/SNBLrEHgPPMO/X8iMXDz/wAiqusPTmWIpwAAAABJRU5ErkJggg==",G=m=>(q("data-v-aec3eaf5"),m=m(),Q(),m),le={class:"header"},ne={class:"content"},oe={key:0,class:"logged fetching"},ie={class:"avatar"},re=["src"],ce=["src"],ue=G(()=>e("p",null,null,-1)),de={class:"avatar"},me=["src","alt"],ve=["src","alt"],pe={key:2,class:"not-logged"},_e=G(()=>e("div",{class:"footer"},[e("div",{class:"content"},[e("p",null,[$("Powered by "),e("a",{href:"https://hs-compendium.com/",target:"_blank"},"HS Compendium")])])],-1)),Ce={class:"input"},ge={class:"name"},Ae={class:"error-msg"},Ie=b({__name:"CompendiumPage",setup(m){const _=/[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}/,{t:d}=V(),i=N(!1),A=N(""),f=N(""),r=N(!1),a=N(),c=N();let v=()=>Promise.prototype;F(async()=>{r.value=!0,await K();const l=I.getUser();r.value=!1,l?(a.value=l,c.value=I.getGuild()):i.value=!0});async function D(){let l;if(!A.value){f.value=d("CANNOT_BE_EMPTY");return}if(!_.test(A.value)){f.value=d("INCORRECT_CODE");return}r.value=!0;try{l=await I.checkConnectCode(A.value)}catch(p){f.value=p.toString(),console.error(p),r.value=!1;return}r.value=!1,i.value=!1,await v(d("CONFIRM_LOGIN",[l.guild.name,l.user.username])).catch(()=>(i.value=!0,!0))||(r.value=!0,await I.connect(l),a.value=I.getUser(),c.value=I.getGuild(),r.value=!1)}function t(){v(d("TID_SETTINGS_DLG_SIGN_OUT")).then(()=>{I.logout(),a.value=void 0,c.value=void 0}).catch(()=>{})}return(l,s)=>{const p=O("t");return n(),o("div",null,[e("div",le,[e("div",ne,[r.value&&!a.value?(n(),o("div",oe,[e("div",ie,[e("img",{src:C(w),alt:"memberImage avatar"},null,8,re),e("img",{src:C(w),alt:"memberImage avatar"},null,8,ce)]),ue])):h("",!0),a.value?(n(),o("div",{key:1,class:"logged",onClick:t},[e("div",de,[e("img",{src:C(te)(c.value.id,c.value.icon),alt:`${c.value.name} icon`,onError:s[0]||(s[0]=u=>u.target.src=C(w))},null,40,me),e("img",{src:C(se)(a.value.id,a.value.avatar),alt:`${a.value.username} avatar`,onError:s[1]||(s[1]=u=>u.target.src=C(w))},null,40,ve)]),e("p",null,g(a.value.username),1)])):h("",!0),!r.value&&!a.value?(n(),o("div",pe,[E(e("span",null,null,512),[[p,"TID_SETTINGS_DLG_NOT_SIGNED_IN"]]),e("button",{class:"button accent",onClick:s[2]||(s[2]=u=>i.value=!0)},g(l.$t("TID_SETTINGS_DLG_SIGN_IN")),1)])):h("",!0)])]),J(l.$slots,"default",{},void 0,!0),_e,S(Z,{open:i.value,"onUpdate:open":s[4]||(s[4]=u=>i.value=u),title:l.$t("TID_SETTINGS_DLG_SIGN_IN"),size:C(z).SMALL},{body:U(()=>[e("div",Ce,[e("p",ge,[E(e("span",null,null,512),[[p,"ENTER_CODE"]]),e("span",Ae,g(f.value),1)]),E(e("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>A.value=u)},null,512),[[Y,A.value]])]),e("div",{class:T(["code-req-btn-wrap",{disable:r.value}])},[E(e("button",{class:"button accent",onClick:D},null,512),[[p,"TID_LINK_DEVICE_DLG_SUBMIT_CODE_BTN"]])],2)]),_:1},8,["open","title","size"]),S(X,{onSetShow:s[5]||(s[5]=u=>{H(v)?v.value=u:v=u})})])}}}),Je=P(Ie,[["__scopeId","data-v-aec3eaf5"]]),he={class:"sections-group other"},Ee={class:"type",name:"spaceBuildings"},fe=["onClick"],Ne={key:0,class:"level"},Se={class:"type",name:"ships"},Te=["onClick"],De={key:0,class:"level"},Re={class:"type",name:"alliance"},Me={class:"item"},ke={key:0,class:"level"},we={class:"sections-group modules"},ye=["onClick"],Be={key:0,class:"level"},be=b({__name:"CompendiumTechList",props:{levelMap:{default:()=>({})},onClick:{type:Function,default:()=>{}},isMuted:{type:Function,default:()=>!1}},setup(m){const _=W(),d={RedStarScanner:B.RedStarScanner,ShipmentRelay:B.ShipmentRelay},i={Transport:y.Transport,Miner:y.Miner,Battleship:y.Battleship},A={Name:"AllianceLevel",TID:"TID_CORP_TAB_MY_CORP",Icon:"corpXp",specialIcon:!0},f=Object.fromEntries(ae.artifact.map(a=>[a,j(a)])),r={key:a=>x(a,_.currentRoute.value.name),value:(a,c)=>ee(a,c,_.currentRoute.value.name)};return(a,c)=>{var D;const v=O("t");return n(),o("div",null,[e("div",he,[e("section",Ee,[E(e("h3",null,null,512),[[v,"TID_BUILDING_LEVEL_DESCR"]]),e("ul",null,[(n(),o(R,null,M(d,(t,l)=>{var s;return e("li",{key:l,class:"item"},[e("div",{class:T({mute:a.isMuted(t.Name)}),onClick:()=>a.onClick(t)},[S(k,{name:t.PrefabModel,dir:"game/SpaceBuildings"},null,8,["name"]),(s=a.levelMap)!=null&&s[t.Name]?(n(),o("span",Ne,g(a.levelMap[t.Name]),1)):h("",!0)],10,fe)])}),64))])]),e("section",Se,[E(e("h3",null,null,512),[[v,"TID_PRODUCTION_DLG_SHIPS"]]),e("ul",null,[(n(),o(R,null,M(i,(t,l)=>{var s;return e("li",{key:l,class:"item"},[e("div",{class:T({mute:a.isMuted(t.Name)}),onClick:()=>a.onClick(t)},[S(k,{name:t.Name in a.levelMap?t.Model[a.levelMap[t.Name]-1]:t.Model[4],dir:"game/Ships"},null,8,["name"]),(s=a.levelMap)!=null&&s[t.Name]?(n(),o("span",De,g(a.levelMap[t.Name]),1)):h("",!0)],10,Te)])}),64))])]),e("section",Re,[E(e("h3",null,null,512),[[v,"TID_CHAT_TAB_CORPORATION"]]),e("ul",null,[e("li",Me,[e("div",{class:T({mute:a.isMuted("AllianceLevel")}),onClick:c[0]||(c[0]=()=>a.onClick(A))},[S(k,{name:"corpXp",dir:"icons"}),(D=a.levelMap)!=null&&D.AllianceLevel?(n(),o("span",ke,g(a.levelMap.AllianceLevel),1)):h("",!0)],2)])])])]),e("div",we,[(n(!0),o(R,null,M(C(f),(t,l)=>(n(),o("section",{key:l,class:"type",name:"modules"},[e("h3",null,g(r.key(l)),1),e("ul",null,[(n(!0),o(R,null,M(t,s=>{var p;return n(),o("li",{key:s.Name,class:"item"},[e("div",{class:T({mute:a.isMuted(s.Name)}),onClick:()=>a.onClick(s)},[S(k,{name:s.Icon,dir:"game/Modules"},null,8,["name"]),(p=a.levelMap)!=null&&p[s.Name]?(n(),o("span",Be,g(a.levelMap[s.Name]),1)):h("",!0)],10,ye)])}),128))])]))),128))])])}}}),Ue=P(be,[["__scopeId","data-v-dbefbf8b"]]);export{Je as C,Ue as T,se as g,w as m};
