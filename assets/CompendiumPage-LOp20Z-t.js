import{d as T,s as O,g as P,i as p,y as B,D as G,v as i,r as V,o as E,b as C,f as e,u as c,E as N,t as f,w as I,G as K,e as J,h as M,J as F,A as y,S as U,M as Y,K as S,p as k,q as L,L as z,_ as Z}from"./index-nG3COr5h.js";const D="https://cdn.discordapp.com/";function q(l,g,u=80){const s=new URL(`avatars/${l}/${g}.webp`,D);return s.searchParams.set("size",String(u)),s}function H(l,g,u=96){const s=new URL(`icons/${l}/${g}.webp`,D);return s.searchParams.set("size",String(u)),s}const h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEe0lEQVR4nN1av2tUQRAeIaDGIkpAwbsE1MJGCzHkQAwGrFN4tWJjo5CAiCaNSLBJDCJ4hRaCCNZn4T+QwiZBsbIW1BMMgr8wIgTifHe75N3e7Lu3v3IXP/iK2/fevPl2Z+ftzt7A08YmJUKJOc48wSwrDqpr68yPzE/Md8xVZiOFEwMJbELYNLOScw+EHlc8r9pWmDWKLDSmwCLC8lBRrCtGERpLIEIR4soRbFWVPYzmaqixGALPMu8WuA/zTY8KRjuvM3BtkXmb+SrEuVCB6Ok8cQg1zC3bSOB5hGXVch22ZylgJEMEYhQWLdeKJoxVRXSEbf7iHRfJc06GCJy2tD9kvnC0BefnmBeYM5Z3zZEHfAXCEam3fcRloZ81RVbUO51t+wqU5kydwsRpwEZZeEeVtkngOHVmQGTIGsVDTXhPWbU5JRwfgVJo1ik+YFMK1eQCzxm/NyhOaJqAzWvU7iPe7RQprgIPMIeNtuDVRg5g+0zm97Dy4VtRA64CjwltSXYBObbhw+uiBlwF7hXaPlM6SLYlH6xwFbhHaPtF6SDZlnywwlXgutB2kNJBsi35YIWrwK9C2yFKB8m25IMVrgI/MFHj2JVpO0npYNreVD4UhqvAP9TKbNkVxlFq7SxiZ9OSsp1FQ/lQGD4fenybzKUa1okxl2rapvRuJ/gIrJO8EI5WR6HW6NkW9E7wEQgR2NCaa9IF5iWKgwWhbYU8OtB3u4RwNAUibJeYNykMSyTXa7ymgK9A9KQUqmPU6n2f+qYuO44J17zDP6RkIe3ZAF3fdNnd20oVQNBeM7SqhjrJfZI/yDOKL5lvme+Z39W1/cwjzFPMqRz7X8izFqMRKhBhc4NaYWmrc05RvggbMHJzFJiZYxR+dUXsOcVDFHFAjMIvEo3veYQNiAZ0GD4NSDDbXviNeRaRB52wdKJJvpJBKr/OPO3wzF/aCjW9gT2csbe7gA19VvGG+YAcQtdFYF4qzwK9jZ7WK49uzpQUMVLSZycLdCxCt/AnqKhAhGO1yz2+53q6E3T46XVo3vvQ0eiIrt/HbgL3UesIy5ZEfjCfUdyyIcTWFBE1l5lDwn3oAHQGTqB+24x1E/iY7CET9STWAnQcRtY2ouh4+Ghd5OcJzPt4B53ZOUKPKOa0dFwHH+GruOKxCbSd1SEL3qK0o2YDOhTnhPdoKwtrwFf43DEnJYGIeykcIO4q8yf1Dg3lwyPqFAmfkcHb8oEpEJP2imBYL516KU4DPiCKpCkE39v+c2MKxDAPUieirAsjwrb+he9tp8FZgfoPASZmqb/EacAn+GYmHr1gaCbBrEBp3i3T9mVLH8C3Zeak0V4lQ6BeKpl4Qv0P+DhptEFLs1arBdpKdP0YmiZs9aFmrVYLHBceTHEsnQqSwKYmCJT+VuVVg+whpFotNJUgcEJ4YIV2HqRi9AQEjgg393PmtEHyecQmcCeFp4bkc1PgqHAhezawQf2NvB3RKC5Km8nYVbJeYSjFf7b7ChC4Rmn/SNBLrEHgPPMO/X8iMXDz/wAiqusPTmWIpwAAAABJRU5ErkJggg==",w=l=>(k("data-v-f7828ef4"),l=l(),L(),l),Q={class:"header"},W={class:"content"},X={key:0,class:"logged fetching"},x={class:"avatar"},j=["src"],$=["src"],ee=w(()=>e("p",null,null,-1)),te={class:"avatar"},ae=["src","alt"],se=["src","alt"],oe={key:2,class:"not-logged"},ne=w(()=>e("div",{class:"footer"},[e("div",{class:"content"},[e("p",null,[z("Powered by "),e("a",{href:"https://hs-compendium.com/",target:"_blank"},"HS Compendium")])])],-1)),le={class:"input"},re={class:"name"},ie={class:"error-msg"},ce=w(()=>e("a",{href:"https://hs-compendium.com/",target:"_blank"},"HS Compendium",-1)),ue=T({__name:"CompendiumPage",setup(l){const g=/[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}/,u=O(),{t:s}=P(),d=p(!1),A=p(""),_=p(""),o=p(!1),n=p(),v=p();B(async()=>{o.value=!0,await G();const t=i.getUser();o.value=!1,t?(n.value=t,v.value=i.getGuild()):d.value=!0});async function b(){let t;if(!A.value){_.value=s("CANNOT_BE_EMPTY");return}if(!g.test(A.value)){_.value=s("INCORRECT_CODE");return}o.value=!0;try{t=await i.checkConnectCode(A.value)}catch(m){_.value=m.toString(),console.error(m),o.value=!1;return}o.value=!1,d.value=!1,await u.dispatch(S.OPEN_CONFIRM,s("CONFIRM_LOGIN",[t.guild.name,t.user.username])).catch(()=>(d.value=!0,!0))||(o.value=!0,await i.connect(t),n.value=i.getUser(),v.value=i.getGuild(),o.value=!1)}function R(){u.dispatch(S.OPEN_CONFIRM,s("TID_SETTINGS_DLG_SIGN_OUT")).then(()=>{i.logout(),n.value=void 0,v.value=void 0}).catch(()=>{})}return(t,a)=>{const m=V("t");return E(),C("div",null,[e("div",Q,[e("div",W,[o.value&&!n.value?(E(),C("div",X,[e("div",x,[e("img",{src:c(h),alt:"memberImage avatar"},null,8,j),e("img",{src:c(h),alt:"memberImage avatar"},null,8,$)]),ee])):N("",!0),n.value?(E(),C("div",{key:1,class:"logged",onClick:R},[e("div",te,[e("img",{src:c(H)(v.value.id,v.value.icon).href,alt:`${v.value.name} icon`,onError:a[0]||(a[0]=r=>r.target.src=c(h))},null,40,ae),e("img",{src:c(q)(n.value.id,n.value.avatar).href,alt:`${n.value.username} avatar`,onError:a[1]||(a[1]=r=>r.target.src=c(h))},null,40,se)]),e("p",null,f(n.value.username),1)])):N("",!0),!o.value&&!n.value?(E(),C("div",oe,[I(e("span",null,null,512),[[m,"TID_SETTINGS_DLG_NOT_SIGNED_IN"]]),e("button",{class:"button accent",onClick:a[2]||(a[2]=r=>d.value=!0)},f(t.$t("TID_SETTINGS_DLG_SIGN_IN")),1)])):N("",!0)])]),K(t.$slots,"default",{},void 0,!0),ne,J(Y,{open:d.value,"onUpdate:open":a[4]||(a[4]=r=>d.value=r),title:t.$t("TID_SETTINGS_DLG_SIGN_IN"),size:c(U).SMALL},{body:M(()=>[e("div",le,[e("p",re,[I(e("span",null,null,512),[[m,"ENTER_CODE"]]),e("span",ie,f(_.value),1)]),I(e("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>A.value=r)},null,512),[[F,A.value]])]),ce,e("div",{class:y(["code-req-btn-wrap",{disable:o.value}])},[I(e("button",{class:"button accent",onClick:b},null,512),[[m,"TID_LINK_DEVICE_DLG_SUBMIT_CODE_BTN"]])],2)]),_:1},8,["open","title","size"])])}}}),ve=Z(ue,[["__scopeId","data-v-f7828ef4"]]);export{ve as C,q as g,h as m};
