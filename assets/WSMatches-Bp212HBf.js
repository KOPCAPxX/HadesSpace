import{a as M,s as V}from"./sec2str-Bzk97ICq.js";import{d as N,aN as y,aO as k,a as S,o as u,b as d,f as e,F as $,B as C,A as T,t as i,_ as E,i as h,z as A,e as D,u as _,p as b,q as W,N as x}from"./index-E1dTW4xd.js";const B={class:"pagination"},O=["onClick"],w=2,L=N({__name:"Pagination",props:y({maxPage:{}},{modelValue:{default:1,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const l=p,o=k(p,"modelValue",{set(s){return s<1&&(s=1),s>l.maxPage&&(s=l.maxPage),s}}),m=S(()=>{let s=Math.max(o.value-w,1),a=Math.min(o.value+w,l.maxPage);return a-s+1<5&&(s===1?a=Math.min(l.maxPage,s+4):a===l.maxPage&&(s=Math.max(1,a-4))),Array.from({length:a-s+1},(r,g)=>s+g)});return(s,a)=>(u(),d("ul",B,[e("li",{class:"arrow prev",onClick:a[0]||(a[0]=r=>o.value=o.value-1)}),(u(!0),d($,null,C(m.value,r=>(u(),d("li",{key:r,class:T({selected:r===s.$props.modelValue}),onClick:g=>o.value=r},i(r),11,O))),128)),e("li",{class:"arrow next",onClick:a[1]||(a[1]=r=>o.value=o.value+1)})]))}}),I=E(L,[["__scopeId","data-v-2bf6673e"]]),f=p=>(b("data-v-f9063e43"),p=p(),W(),p),R={class:"list"},U={class:"corp-names"},q=f(()=>e("span",{class:"vs-icon"},null,-1)),z={class:"score"},F=f(()=>e("span",null," - ",-1)),j={key:0},K={key:1},G=f(()=>e("div",{class:"footer"},[e("div",{class:"content"},[e("p",null,[x("Powered by "),e("a",{href:"https://mentalisit.sytes.net:8443/wsmatches",target:"_blank"},"mentalisit.sytes.net:8443"),x(" API ")])])],-1)),H=N({__name:"WSMatches",setup(p){const l=new URL("https://mentalisit.sytes.net:8443/wsmatches");l.searchParams.set("limit","50");const o=new Date,m=h(),s=S(()=>{var t;return(((t=m.value)==null?void 0:t.matches)||[]).map(c=>({...c,DateEnded:new Date(c.DateEnded)}))}),a=h(1);A(a,()=>{window.scrollTo({top:0,behavior:"smooth"}),g()},{immediate:!0});function r(t){return`${t.Corp1Name}${t.Corp2Name}${t.DateEnded.toString()}`}async function g(){l.searchParams.set("page",a.value.toString()),m.value=await fetch(l).then(t=>t.json())}return(t,c)=>{var v,P;return u(),d("div",null,[D(I,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=n=>a.value=n),"max-page":((v=m.value)==null?void 0:v.MaxPage)||1},null,8,["modelValue","max-page"]),e("ul",R,[(u(!0),d($,null,C(s.value,n=>(u(),d("li",{key:r(n)},[e("div",null,[e("p",U,[e("span",null,i(n.Corp1Name),1),q,e("span",null,i(n.Corp2Name),1)]),e("p",z,[e("span",null,i(n.Corp1Score),1),F,e("span",null,i(n.Corp2Score),1)]),n.DateEnded-_(o)>0?(u(),d("p",j,[e("span",null,i(t.$t("TID_WS_PREPARATION_ENDS_IN",[_(M)((n.DateEnded-_(o))/1e3)])),1)])):(u(),d("p",K,[e("span",null,i(t.$t("TID_WS_ENDED"))+" "+i(`(${t.$t("TID_SOCIAL_TIMESTAMP",[_(V)((_(o)-n.DateEnded)/1e3)])})`),1)]))])]))),128))]),D(I,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=n=>a.value=n),"max-page":((P=m.value)==null?void 0:P.MaxPage)||1},null,8,["modelValue","max-page"]),G])}}}),X=E(H,[["__scopeId","data-v-f9063e43"]]);export{X as default};
