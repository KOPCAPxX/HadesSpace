import{s as D}from"./sec2str-9Pki513V.js";import{d as C,k as u,y as S,r as v,o,b as a,f as t,F as x,B as I,t as i,u as _,w,p as E,i as g,_ as N}from"./index-dxaeg43t.js";const p=l=>(E("data-v-57547027"),l=l(),g(),l),M={class:"list"},P={key:0},B={class:"corp-names"},T=p(()=>t("span",{class:"vs-icon"},null,-1)),W={class:"score"},A=p(()=>t("span",null," - ",-1)),F={key:0},O={key:1},R={key:1,class:"match-fetching"},b=p(()=>t("p",{class:"corp-names"},[t("span"),t("span",{class:"vs-icon"}),t("span")],-1)),j=p(()=>t("p",null,[t("span")],-1)),q=p(()=>t("p",null,[t("span")],-1)),L=[b,j,q],m="https://add-cors-to-requests.userxinos.workers.dev/https://storage.googleapis.com/hades-star-public-xq8f-d4rg-v0d9/",k=C({__name:"WSMatches",setup(l){const h=new Date,d=u([]),n=u({});S(async()=>{const c=await fetch(m).then(e=>e.text()),r=new DOMParser().parseFromString(c,"text/xml");for(const e of r.firstElementChild.children)e.localName=="Contents"&&d.push({key:e.children[0].textContent,generation:e.children[1].textContent,metaGeneration:e.children[2].textContent,lastModified:new Date(e.children[3].textContent),etag:e.children[4].textContent,size:parseInt(e.children[5].textContent)});f(0)});function f(c){d.slice(c).forEach(({key:r})=>{fetch(new URL(r,m)).then(async e=>{const s=await e.json();n[r]={...s,Corporation1Score:parseInt(s.Corporation1Score),Corporation2Score:parseInt(s.Corporation2Score),DateEnded:new Date(s.DateEnded)}})})}return(c,r)=>{const e=v("t");return o(),a("div",null,[t("ul",M,[(o(!0),a(x,null,I(d,({key:s})=>(o(),a("li",{key:s},[s in n?(o(),a("div",P,[t("p",B,[t("span",null,i(n[s].Corporation1Name),1),T,t("span",null,i(n[s].Corporation2Name),1)]),t("p",W,[t("span",null,i(n[s].Corporation1Score),1),A,t("span",null,i(n[s].Corporation2Score),1)]),n[s].DateEnded-_(h)>0?(o(),a("p",F,[t("span",null,i(c.$t("TID_WS_PREPARATION_ENDS_IN",[_(D)((n[s].DateEnded-_(h))/1e3)])),1)])):w((o(),a("p",O,null,512)),[[e,"TID_WS_ENDED"]])])):(o(),a("div",R,L))]))),128))])])}}}),G=N(k,[["__scopeId","data-v-57547027"]]);export{G as default};
