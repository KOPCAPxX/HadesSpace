"use strict";(self["webpackChunkhades_space"]=self["webpackChunkhades_space"]||[]).push([[211],{8211:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S,getCharsWithHideStatus:()=>v});var s=i(6252),a=i(3577);const r={key:0,class:"wrapper"},n={class:"body"},l={class:"text-side"},o=["id"],c={key:0},u={key:2,class:"characteristics"},d={key:0,class:"icon"},y=["item-key"];function m(e,t,i,m,p,f){const k=(0,s.up)("Stats"),g=(0,s.up)("icon"),D=(0,s.up)("v-node");return(0,s.wg)(),(0,s.iD)("div",null,[p.isObject(i.items)||Array.isArray(i.items)&&i.items.every(p.isObject)?((0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.itemsToArray,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"item"},[(0,s._)("div",n,[(0,s._)("div",l,[t||e.TID?((0,s.wg)(),(0,s.iD)("div",{key:0,id:i.parentId?`${i.parentId}-${t}`:e.Name,class:"title"},["data"!=t?((0,s.wg)(),(0,s.iD)("div",c,(0,a.zw)(i.format.key(t||e.TID)),1)):(0,s.kq)("",!0)],8,o)):(0,s.kq)("",!0),Array.isArray(e)&&e.every((e=>e!==Object(e)))?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,a.zw)(i.format.value(t,e)),1)],64)):((0,s.wg)(),(0,s.iD)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.getCharacteristics(e),(([r,n,l],o)=>((0,s.wg)(),(0,s.iD)("li",{key:o,class:(0,a.C_)({line:!0,filtered:l})},[(0,s.Wm)(k,{"item-key":o,items:r,format:i.format,"parent-id":`${i.parentId}-${t}`,parent:e,status:n},null,8,["item-key","items","format","parent-id","parent","status"])],2)))),128))]))]),e.PrefabModel||e.Icon||e.Model?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(g,{name:e.PrefabModel||e.Icon||e.Model,dir:i.iconDir||p.iconDirList[t]||p.iconDirList.default},null,8,["name","dir"])])):(0,s.kq)("",!0)])])))),128))])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("span",{class:(0,a.C_)(`status-${i.status||i.parent[i.itemKey]?.status}`)},["data"!=i.itemKey?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("b",null,(0,a.zw)(i.format.key(i.itemKey)),1),e.$store.state.userSettings.showKeys?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(" ("+(0,a.zw)(i.itemKey)+")",1)],64)):(0,s.kq)("",!0),(0,s.Uk)(" : ")],64)):(0,s.kq)("",!0),"function"===typeof i.format.value(i.itemKey,i.items)?((0,s.wg)(),(0,s.j4)(D,{key:1,render:i.format.value(i.itemKey,i.items)},null,8,["render"])):((0,s.wg)(),(0,s.iD)("span",{key:2,"item-key":i.itemKey,class:"value"},[Array.isArray(i.items)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,a.zw)(i.items.map((e=>i.format.value(f.keyFormatter,e))).join(2==i.items.length?" >> ":", ")),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,a.zw)(i.format.value(f.keyFormatter,i.items)),1)],64))],8,y))],2),(0,s.WI)(e.$slots,"default",{},void 0,!0)],64))])}var p=i(8449),f=i(1578),k=i(2022),g=i(1025);const D={drone:"game/Ships",modules:"game/Modules",default:"game/Modules"};function h(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function w({render:e}){return e(s.h)}function v(e){const t=(0,k.Z)(e,{map:([t,i])=>[t,["object"==typeof i&&"data"in i?i.data:i,"status"in e?e.status:null,(0,g.Z)(t,e.Name)]],filter:([e,[,,t]])=>!e.startsWith("_")&&!(0,g.Z)(e,null,{asMeta:!0})&&(!!f.Z.state.userSettings.disableFilters||!t)});for(const i in t)if("object"==typeof t[i][0]){const e=Object.keys(t[i][0]);e.every((e=>h(t[i][0]?.[e])&&"data"in t[i][0][e]))&&(e.forEach((e=>t[e]=[...Object.values(t[i][0][e]),...t[i].slice(2)])),delete t[i])}if(t.projectile){const{projectile:e}=t;delete t.projectile,t.projectile=e}return t}const b={name:"Stats",components:{Icon:p.Z,VNode:w},inject:{additionalStatsContent:{default:null}},props:{items:{type:null,required:!0},itemKey:{type:String,default:null},parentId:{type:String,default:null},parent:{type:Object,default:()=>({TID_Description:null})},format:{type:Object,required:!0},iconDir:{type:String,default:""},status:{type:String,default:""}},data(){return{isObject:h,iconDirList:D,getCharacteristics:v}},computed:{itemsToArray(){return Array.isArray(this.items)||Object.values(this.items).every((e=>this.isObject(e)||Array.isArray(e)))?this.items:[this.items]},keyFormatter(){return"data"==this.itemKey?this.parentId.split("-").pop():this.itemKey}},methods:{formatDescr(e){const t=e.endsWith("_DESCR")?e.replace("_DESCR","_CUSTOM_DESCR"):null,i=this.$t(e,["X","Y","Z"]).replace(/<[^>]*>/g,""),s=t&&this.$te(t)?this.$t(t):null;return s?`${i}\n\n${s}`:i}}};var j=i(3744);const _=(0,j.Z)(b,[["render",m],["__scopeId","data-v-ef8ddbb2"]]),S=_}}]);